<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Hexo</title><meta property="og:type" content="blog"><meta property="og:title" content="Hexo"><meta property="og:url" content="http://yoursite.com/"><meta property="og:site_name" content="Hexo"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://yoursite.com/img/og_image.png"><meta property="article:author" content="John Doe"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://yoursite.com"},"headline":"Hexo","image":["http://yoursite.com/img/og_image.png"],"author":{"@type":"Person","name":"John Doe"},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><meta name="generator" content="Hexo 5.2.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Hexo" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item is-active" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="GitHub" href="https://github.com/NicholasQu"><i class="fab fa-github"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-09-29T09:25:39.000Z" title="2020-09-29T09:25:39.000Z">2020-09-29</time></span><span class="level-item">Updated&nbsp;<time dateTime="2020-09-29T09:33:06.665Z" title="2020-09-29T09:33:06.665Z">2020-09-29</time></span><span class="level-item">37 minutes read (About 5545 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/09/29/data-strategy/">DàYé玩转数据战略Step By Step</a></h1><div class="content"><p><img src="http://ww1.sinaimg.cn/large/40db64dbgy1gj6isr3zhyj20x00m0ajb.jpg" alt="Pexels By Pixabay"></p>
<blockquote>
<p>爷我天蝎座，打小不喜欢凑热闹，更不会强迫自己融入热闹，什么国庆长假，什么网红餐厅…只要是让我排队，就感觉是浪费生命，我是万万不会屈从的。<br/>这个说不上毛病的毛病，或多或少也在影响我在专业领域的判断。比如，19年中台这股热闹妖风刮起来的时候，我基本是捏着鼻子远远躲开的。直到最近在调整组织战略，数据运营重新进入我的视野，落地却屡屡不得法时，不得不静下心来探究一番，热热闹闹的数据中台到底在说什么。<br/>翻阅了不少资料，这里推荐下《<strong>数据战略</strong><code>-如何从大数据、大数据分析和万物互联中获利</code>》《<strong>数据中台</strong><code>-让数据用起来</code>》这两本书（部分内容也参考了它们），读罢获益匪浅。小标题里的关键字<strong>获利、用起来</strong>都是今天我要说的重点。</p>
</blockquote>
<h2 id="以史为鉴"><a href="#以史为鉴" class="headerlink" title="以史为鉴"></a>以史为鉴</h2><p>我们先看看<strong>工业革命</strong>的演进路径，从1.0的蒸汽机时代，到2.0的电力、流水线和大规模生产时代，再到3.0的计算机自动化时代，最后是<strong>4.0的智能化时代</strong>。</p>
<p><img src="http://ww1.sinaimg.cn/large/40db64dbgy1giloa51srlj20zk0k041u.jpg"></p>
<p>再瞅一眼<strong>互联网Web</strong>的发展路径，从1.0的计算机互联<strong>只读</strong>时代，以网络<strong>单向</strong>提供静态内容给人的方式出现；到2.0的互动分享社交<strong>读写</strong>时代，以人与人的沟通、创作、传播、协作的<strong>双向</strong>特征出现<code>(如Facebook/Youtube,HTML5/CSS3技术)</code>；再到3.0的移动语义和物联 <strong>读写执行</strong> 时代，计算机可以智能生成、理解和分发用户需要的内容，更理解语义更通人性<code>(如苹果Siri, 小度)</code>; 2020开始的4.0时代，目前还没权威定义，有<code>云操作系统、去中心化区块链、共生网络</code>等，下图的Web OS其实也只是形态之一罢了。</p>
<p><img src="http://ww1.sinaimg.cn/large/40db64dbgy1gj6g3a26t3j22ot1wftkw.jpg"></p>
<center><font size="2">图自: https://medium.com/@vivekmadurai/web-evolution-from-1-0-to-3-0-e84f2c06739</font></center>



<p><a target="_blank" rel="noopener" href="https://medium.com/@tuhfatussalisah/world-wide-web-from-web-1-0-to-web-4-0-and-society-5-0-48690a43b776"><code>参考1：从1.0到3.0的Web进化</code></a><br/><a target="_blank" rel="noopener" href="https://medium.com/@tuhfatussalisah/world-wide-web-from-web-1-0-to-web-4-0-and-society-5-0-48690a43b776"><code>参考2：万维网：从WEB 1.0到WEB 4.0和SOCIETY 5.0</code></a><br/><a target="_blank" rel="noopener" href="http://ahmadfaizar.blogspot.com/2018/08/evolution-of-web-web-10-web-20-web-30.html"><code>参考3：万维网的进化: 从Web1.0到Web4.0</code></a><br/></p>
<p>不管是工业革命还是万维网，它们的进化史都有惊人相似之处。蒸汽机只是让车跑的更快让机器更有力量么？你更应该知道火车进入运输业让印刷业极大受益，并带来知识的大范围传播。电力就不用说，催生出电视电话，更加速了资讯的传播。而且<strong>人</strong>在整个工业或者信息链路上主导的能力越来越弱，随着连接(互联、物联)的不断发生，信息流转的速度不断加快，信息数据的量级也呈爆炸性态势，导致对信息处理效率和准确性的要求也持续增强。这种进化的<strong>本质</strong>是，我们不再满足于<strong>信息的共享和传播</strong>，而是更加关注<strong>价值的迅速转移</strong>。什么是价值转移，举个例子，外卖平台识别到糟糕的天气状况，智能延长外卖的承诺送达时间，让外卖小哥可以不那么拼命赶路，这就是从天气预报信息到外卖小哥交通安全的价值转移。而做到这一切的关键内核，就是信息，也就是我们今天要谈的数据。</p>
<p>而今各色公司都在喊的“数字化转型”“数据中台”“数据运营”“产业互联网”等等都是数据(中台)战略的不同包装或展现形式。<strong>数字化转型</strong>可不要与以前的<strong>信息化转型</strong>混淆，信息化可以简单理解成以前的线下手工操作变成了线上系统操作，信息存起来了却是零散的割裂的(即便是结构化的数据)。而数字化是在信息化之后的资源整合、数据连接后的价值挖掘和商业应用。</p>
<h2 id="统一语言"><a href="#统一语言" class="headerlink" title="统一语言"></a>统一语言</h2><p>开始之前，先跟各位读者统一下数据语言，防止出现理解偏差，顺便罗列一下我理解中的数据战略体系内容。</p>
<h3 id="1-术语"><a href="#1-术语" class="headerlink" title="1. 术语"></a>1. 术语</h3><p><strong>数据资产</strong>：能直接作用于业务领域，业务人员能阅读和理解的，可计量、可控制、可变现的数据，才能称之为数据资产。*<strong>数据湖**<em>里的那些原始数据或者贴源数据，只能算是</em></strong>数据资源*<strong>。数据湖一旦维护不当就可能变成**<em>数据沼泽</em></strong>。</p>
<p><strong>数据分类</strong>：数据的定义五花八门，不同场景有不同的叫法，甚至重叠度很高。我简单罗列了下自己知道的一些数据种类和名称，错误或者疏漏之处欢迎指出。</p>
<p><img src="http://ww1.sinaimg.cn/large/40db64dbgy1gj63or7fpxj219i17kagr.jpg"></p>
<h3 id="2-四大体系"><a href="#2-四大体系" class="headerlink" title="2. 四大体系"></a>2. 四大体系</h3><p>数据战略的落地规划一般要假设这三个体系：<strong>技术体系、数据体系、应用体系和监控体系</strong>。<strong>技术体系</strong>无非就是平台系统、数据组件等的开发。<strong>数据体系</strong>是核心，就是专心把数据收集、汇总、加工这个形成数据资产的过程做好。而<strong>应用体系</strong>提供数据服务，在数据资产的基础上提供类似用户画像、信用评估、预警告警等应用服务。为了让前三个体系可以健康持续的运转，需要规范、流程、评估、优化、改进等一系列监督辅助性职能，这个就是<strong>监控体系</strong>。</p>
<h3 id="3-五个环节"><a href="#3-五个环节" class="headerlink" title="3. 五个环节"></a>3. 五个环节</h3><p>数据开发5个环节：数据收集 -&gt; 数据汇总 - &gt; 数据开发 -&gt; 数据应用 -&gt; 数据优化。</p>
<h3 id="4-五个关键步骤"><a href="#4-五个关键步骤" class="headerlink" title="4. 五个关键步骤"></a>4. 五个关键步骤</h3><p>梳理现状 -&gt; 架构规划 -&gt; 开发数据资产 -&gt; 应用数据到业务场景 -&gt; 运营及优化。</p>
<h2 id="第一步-动起来-amp-用起来"><a href="#第一步-动起来-amp-用起来" class="headerlink" title="第一步: 动起来 &amp; 用起来"></a>第一步: 动起来 &amp; 用起来</h2><p><img src="http://ww1.sinaimg.cn/large/40db64dbgy1gj6htigxtej21jk0gox6p.jpg" alt="horse.png"></p>
<p>首先，数据战略行动一定是“<strong>一把手</strong>”工程，因为只有一把手才能推动数据战略的落地。然而，再强势的一把手，也有一拳打在棉花上的时候，毕竟执行力彪悍的团队可遇不可求，而且更多时候不是执行的问题而是组织的问题：<em>令不出“朝堂”、政令不畅、部门墙、阳奉阴违</em>，不一而足。</p>
<p>所以第一步，特别强调，务必从<strong>可实操、有价值、可感知</strong>的业务场景来切入，我在这一步上是吃了大亏的。而通常符合这个标准的业务场景，从业务运营团队的痛点中比较容易获取。</p>
<p><strong>可实操</strong>，说的是技术实现、政策规范、组织协调等层面进行实际操作的难易度。想象一下，</p>
<ul>
<li>你想看PV/UV数据，系统连埋点功能还没有规划，实操性就很弱。后端规划数据上传和数据存储倒不麻烦，前端需要仔细设计如何埋、埋哪里、何时触发、耗电、权限、性能等等一系列，就不是个小事情。等把埋点实现好，App发版对外，用户更新完，之前的活动页PV UV需求可能都过去式了；</li>
<li>风控授信需要大量数据支撑，资信数据、社交数据、行为数据、设备数据…有些需要用户的授权，有些授权也没用，因为政策上就不合规，更令人恼火的是即便用户授权了也会投诉你误导用户点击…这种数据的获取必须慎之又慎；</li>
<li>当你的数据分析部门只有关系型数据库的技能，对Hive HQL语法、图GraphQL语法千推万阻之时，你能怎么办？</li>
</ul>
<p><strong>有价值</strong>，比较容易理解。没有价值的数据战略行动是没有生命力的，且不具备可持续性。它不应该满足某些个人的喜好，也不能是劳民伤财的政绩工程，而一定是数据的<strong>场景应用</strong>，可以应用于运营，可以是风控，也可以是市场，但尽量不要只是应用于老板的桌面。就我而言，判断一个数据项目是否有价值，需要重点关注4个领域：<strong>用户、市场和竞品、财务、运营</strong>。</p>
<p><strong>可感知</strong>，是对数据战略升级的一个特别重要的铺垫。直白点说，数据成果要能大张旗鼓的展示出来，让团队感受到它的价值和成就感。比如很多人当成政绩工程的**<em>监控大屏**</em>，就是能让团队感受到业务流淌的脉搏，感受到与用户面对面的呼吸，还有什么比这打出的鸡血更浓郁？</p>
<p>做到以上三点，这一步就算基本做踏实了。也不建议做多，做的越多落地周期就越长，你的数据战略也就迟迟不见踪影。总结下这个阶段的特点是<strong>业务驱动数据</strong>，不做高大全的顶层设计，够用就行。不追求完美的规划和架构设计，hard code都行。从独立的小项目切入，甚至多个小项目是各自为战的状态也别介意。至少你已经走起来了不是么？</p>
<blockquote>
<p>提醒一点，先动起来不是说没有设计没有规划，而是不要追求完美和完整，这个度请自行揣度。<br/>至少对于“<strong>先尽可能多的把全量数据收集起来</strong>”这一点，我是持反对意见的。埋点收集一堆用不上的或者垃圾数据，光存储成本就是一种成本浪费，更不要说垃圾数据可能造成的决策误导。有句俚语是：<strong>别让数据变成白色大象(White Elephant，代价高昂却一无是处)</strong></p>
</blockquote>
<h2 id="第二步：-打造数据文化"><a href="#第二步：-打造数据文化" class="headerlink" title="第二步： 打造数据文化"></a>第二步： 打造数据文化</h2><p><img src="http://ww1.sinaimg.cn/large/40db64dbgy1gj6euv70mmj20ox0a5jxd.jpg"></p>
<p>打铁趁热，一鼓作气。</p>
<p>当组织感受到数据的甜头之后，就会想从数据中攫取更多好处。当然，随之而来的阻力也会更大。比如承载巨量数据资产的硬件成本是高的吓人的，无论怎么逼业务部门提出来的数据需求都不怎么像样，或者永远都是就是那几个无关痛痒的业务指标，随着数据战略的全面铺开，难度不断加大，玩不转打退堂的、想砸钱的、不想花钱的…各种冲突都会浮现出来了。</p>
<blockquote>
<p>关于提不出来需求这个事，相信很多做过数据的朋友都会有共鸣。拿着一堆数据就好像知道了问题的答案，却不知道问题是什么。<br/>正如科幻圣经《银河系漫游指南》里的超级计算机，对“生命、宇宙和万物”计算出的最终答案是数字 <strong>42</strong>。你却不知道这个42对应的问题是什么，这才是问题本身的问题。</p>
</blockquote>
<p>而<strong>数据文化的意义</strong>就是，让员工意识到数据的无限可能性，沉醉于数据的价值挖掘，并最终得意于数据的业务应用、商业决策以及经济利益。再概括浓缩到一句话，<strong>数据文化就是放大数据金矿的诱惑力，让员工趋之若鹜、甘之若饴</strong>。相信每个组织都有自己专属的文化特征，而数据文化，也并无不同。无非是将数据思想植入产品的全生命周期，Data Driven Everything。</p>
<p>这里还是从我自己的角度先给几点血泪踩坑建议吧：</p>
<ul>
<li>一把手一定得亲自参与数据文化的打造，在民主投票出现冲突时、推行卡滞时、优先级排序、方案评审时，这些重要时刻一定不能偷懒或者敷衍，一把手不认真，文化就不可能认真，这是第一原则；</li>
<li>数据文化不能成为政绩工程，当数据的产出成为绩效的一部分或者吹嘘的资本时，必须提高警惕。就像写的代码有Code Smell，数据文化同样有Data Smell。比如数据体系(元数据/标签/数仓)这个地基都没打好，就说自己的数据服务-用户画像多么多么牛掰，这种头重脚轻的Smell特别普遍；</li>
<li>数据建设需要专业人才，数据团队作为数据文化的智囊团和践行者，需要极高的专业度。从架构到工具，从模型到服务，从展示到安全，必须面面俱到；</li>
<li>数据文化需辅以完善的规范和流程制度来护航，对于数据资产的管理除了靠人靠技术，就剩下靠制度了。规范制度是数据战略可以持续健康运作的必备条件，否则面对数据中台这种级别的航空母舰，一个历史包袱完全可以让你无法弥补。一个行之有效的“航母操作手册”，比苦口婆心的口水有用的多；</li>
<li>文化的落地前期可能需要一些命令式操作，但是随着组织意识的完善，中后期不能让文化走偏成为一种约束。比如逢必谈数据，过于偏执于数据，可能会让决策过程复杂化，产品流程延长，更坏的情况是组织的数据能力不到位，给出错误的数据结论，那就糟糕了。所以<strong>相信数据的力量，但不能迷信数据的结论</strong>。</li>
</ul>
<p>这个阶段的重点是要打造较为完整的数据中台架构和组织，整合散落的数据，消除数据孤岛，规范数据的采集、存储和分析，所以<strong>规划、整合和规范</strong>是本阶段的关键字，剑指<strong>数据驱动业务</strong>。在上面<strong>“统一语言”</strong>章节提到的体系和步骤都是架构核心内容，你的数据中台不是在建设这些内容，就是在建设这些内容的路上。再解释一下何谓完整，比如容易被人忽略的“数据安全”，是数据战略的重中之重，绝对不能轻视和忽略，甚至延后再补都不能允许；组织上，数据团队的委员会、产品、开发、质量、模型、运维工程师都不可或缺。</p>
<h2 id="第三步：-数据优化和可持续"><a href="#第三步：-数据优化和可持续" class="headerlink" title="第三步： 数据优化和可持续"></a>第三步： 数据优化和可持续</h2><p><img src="http://ww1.sinaimg.cn/large/40db64dbgy1gj6fotsu8aj20po0jlgnw.jpg"></p>
<p>说实话，我们也正在这个阶段的河里摸着石头的人。</p>
<p>当你在天量的数据源上又沉淀出海量的数据资产时，没有人可以保证这些数据资产的质量如何，价值难以评估，安全性未知或者堪忧，数据的管理可能也浮于表面，更多是为了业务应用而仓促成形。另外随着组织战略的调整，一些历史性数据对整体数据中台的冲击和负担，也应该同步清理，抛弃历史包袱。这些都需要<strong>治理、监控、优化和升级</strong>的。</p>
<p>先说<strong>数据治理</strong>，这个概念也历史悠久了，甚至理论体系都有好多，像 DAMA、CMMI、DGI等等。基本上数据治理的目标有这几个：<strong>提升数据质量、构建统一的数据标准、组织内达成一致的解决数据问题的方法、透明完善的数据管理流程、数据的可持续运营</strong>。而数据治理的发展趋势也各有选择，有采用AI来提升数据治理效率的，有采用元数据为核心的分布式治理，我们采用的是后者。</p>
<blockquote>
<p>元数据Metadata是什么？描述数据的数据。抽象的定义…它一般分为技术元数据，如表结构、字段约束、字段字典，业务元数据，如业务指标、业务术语，管理员数据，如数据Owner，数据安全等级等等。<br/>元数据的应用场景很多，常见的如ETL程序做数据转换时需要知道源数据的结构和字典，通过数据血缘分析发现改一个字段的长度，会影响哪些系统，都是特别典型的。</p>
</blockquote>
<p>再说<strong>数据质量</strong>，它的高低直接关系到数据决策的对错。所以要对源头数据质量、加工过程质量和使用价值质量进行全方面的评估和改进。简单展开下，源头数据的准确性、时效性至少你得确认清楚吧，1年前的用户资信数据你敢用么？ 加工过程的质量更不必说，生成的标签数据，也是有准确率、时效性、覆盖量等，比如不是所有用户都登记了性别的，那男女标签覆盖的只是用户登记过性别的群体而已。加工所需要的模型也是需要不断调整的，以前是你看尿布给你推荐尿布，现在是你看尿布给你推荐啤酒。使用价值的质量相信不太好理解，其实像某个标签的使用量，越多业务部门使用，说明这个标签越有价值；某个高频使用的标签价值可以很低（用户姓名），低频使用的标签价值可以很高（用户信用评分）。</p>
<p>然后说点<strong>数据成本的优化策略</strong>吧，线上常见的有重复计算、冗余计算导致资源浪费，上面说的低价值的计算却耗费了大量计算资源，不合理的任务调度或者逻辑实现导致并行成了串行，数据资产的产出频率过于密集导致明明日报就行非得小时报刷新。这些也是数据运营的重要策略，而评估数据运营的两个关键维度就是 <strong>投入产出比 + 数据质量及安全</strong>。</p>
<p>最后对于<strong>可持续性</strong>就提一下<strong>数据安全</strong>，因为数据安全关系到数据的全生命周期（产生-存储-传输-使用-共享-销毁），脆弱的安全体系甚至可以瞬间摧毁一个组织。这个我是真的不怎么专业，只知晓一些基本的，如安全认证和权限管理、资源隔离、加密、脱敏、容灾备份等等。这里面还隐含一个数据来源的合规性、合法性，数据本身就是不安全的，当然你在此基础上搭建的任何数据应用就更加的不安全了，极端点就是你的人身安全。</p>
<p>这个阶段基本上就是在迭代优化的路上不断持续运转，技术面、组织面、制度面都是需要跟踪的，如何保持数据文化长久的生命力，将是核心话题。</p>
<p>而我们将要长期走在数据铺就的这条路上，不断成长…</p>
<blockquote>
<p>市面上谈中台的文章，开篇通常都是从芬兰的supercell公司说起，无趣的很。今天看到一个有趣的史料说法，中国东汉的中枢机关尚书台，号称中台。唐朝的三省六部制，尚书省也是中台，辖六部。当然，此中台非彼中台，权当一笑。</p>
</blockquote>
<p><font size=2><strong>参考文献</strong>: <br/>《数据中台-如何从大数据、大数据分析和万物互联中获利》</font><br/><font size=2>《数据战略-让数据用起来》</font><br/><font size=2>《中台战略-中台建设与数字商业》</font></p>
<p><img src="http://ww1.sinaimg.cn/large/40db64dbgy1gj6hnc7tkvj21wc12a18f.jpg"></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-08-05T03:21:45.000Z" title="2020-08-05T03:21:45.000Z">2020-08-05</time></span><span class="level-item">Updated&nbsp;<time dateTime="2020-08-05T08:10:09.090Z" title="2020-08-05T08:10:09.090Z">2020-08-05</time></span><span class="level-item">a minute read (About 112 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/08/05/mvp-and-pmf/">知道MVP, 不知道PMF</a></h1><div class="content"><p>发现很多做产品的人只知道<strong>MVP</strong>(<em>Minimal Viable Product, 最小可行产品</em>)，</p>
<p>不知道<strong>PMF</strong>(<em>Product/Market Fit, 产品符合市场需求，我经常戏称为”<strong>怕麻烦</strong>“</em>)。</p>
<p>其实可以简单这么理解，</p>
<p><strong>MVP是针对问题或者市场的产品解决方案</strong>，</p>
<p><strong>而PMF就是验证用户是否愿意为你的这个方案埋单</strong>。</p>
<p><img src="http://ww1.sinaimg.cn/large/40db64dbgy1ghg01qluhqj20hq0dbmzc.jpg"></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-07-20T14:21:51.000Z" title="2020-07-20T14:21:51.000Z">2020-07-20</time></span><span class="level-item">Updated&nbsp;<time dateTime="2020-08-05T08:01:37.467Z" title="2020-08-05T08:01:37.467Z">2020-08-05</time></span><span class="level-item">25 minutes read (About 3697 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/07/20/fintech-thinking-1/">金融科技的碎片化思考(上)</a></h1><div class="content"><p><img src="http://ww1.sinaimg.cn/large/40db64dbgy1ghfzm7q3bxj20u00jn7wh.jpg"></p>
<p>从事金融科技行业已久，也一直想写写金融科技相关的文字，又惶恐间，深觉如此大的话题hold不住而贻笑大方。偶然翻开束之高阁多年的《<em>蚂蚁金服-从支付宝到新金融生态圈</em>》，惊喜之余亦将自己碎片化的那点浅识愚见串联起不少。行文仓促，些许是经历，些许是总结，些许是念头，唯恐扭头就忘，权当流水记账给自己看也好。</p>
<p> 又不是何样大家，可以著书警示世人，无须给自己压力，写到哪儿便是哪儿吧，看官您也担待一二。</p>
<blockquote>
<p><strong>金融</strong>是什么？<br/><strong>科技</strong>是什么？<br/>合到一起的<strong>金融科技</strong>又是什么？<br/>让我们剥开浮躁的表面直指内心。</p>
</blockquote>
<h2 id="科技是第一生产力"><a href="#科技是第一生产力" class="headerlink" title="科技是第一生产力"></a>科技是第一生产力</h2><p>先说科技，也就是<strong>科学技术，是第一生产力</strong>。科学是理论，技术是应用。作为生产力，科技理论上可以应用于人类已知或者未知的所有领域，而金融领域不过是科技可应用的领域之一而已。当然可不仅仅限用“应用”，还可以“<strong>驱动</strong>”“<strong>赋能</strong>”“<strong>普惠</strong>”“<strong>整合</strong>”“<strong>协同</strong>”、“<strong>数字化</strong>”“<strong>互联网化</strong>”“<strong>智能化</strong>”“<strong>生态化</strong>”、以及“<strong>金融3.0</strong>”“<strong>VUCA4.0</strong>”“<strong>工业5.0</strong>““<strong>通证经济</strong>”“<strong>数字经济</strong>”“<strong>ABCD</strong>”等等 (<em>金融科技领域不会用词，OUT一半!</em>)。</p>
<p>对于大国来说，<strong>军事</strong>和<strong>金融</strong>是两个最最核心的支撑力量。而通常来说，最尖端的科技也是始于这两个领域。 比如计算机最早是发明出来计算弹道的，手机也是战地移动电话发展而来。诞生于08年金融危机后并不断火热的比特币，其底层的区块链技术，也因为它独特的去中心化、不可篡改、智能合约等特性，逐渐进入了人们的视野。</p>
<h2 id="金融的本质"><a href="#金融的本质" class="headerlink" title="金融的本质"></a>金融的本质</h2><p>金融就是价值的流通。而金融的本质，个人还是推崇黄老的那个精准表述，说到底就是<strong>信用、杠杆和风险</strong>三个词。此刻你可掩卷沉思一番，是否就是这么回事？</p>
<p>支付宝，担保交易模式的发明者，底层逻辑就是信用，依托于这个信用体系搭建出它的许多上层应用，如花呗、芝麻分、免押金产品…等等。吴晶妹教授有个著名的<strong>信用三维论</strong>来说明信用的构成，即<strong>诚信度，合规度，践约度</strong>。诚信度一般说的是信用主体的道德文化、行为准则等基本的诚信意识；合规度指信用主体在社会活动中遵守社会行政管理规定、行业规则、民间惯例等的水平与能力；践约度即言出必行，表现为遵守交易规则并履约的能力，比如天经地义的借钱还钱。</p>
<p>有些人对杠杆比较陌生，在我们日常生活中，其实可以把杠杆简单理解为负债。你的房贷是杠杆，手机分期是杠杆，借钱炒股(融资融券)也是杠杆…杠杆会放大风险预期和投资结果(无非更多收益或者更多亏损)，以物理上的杠杆撬地球来形象的类比，就是以小资金博大收益，做好了是投资做坏了就是投机。所有金融危机的共同之处就是杠杆率过高(如2008年的美国次贷危机)。风险就很直白了，信用风险、欺诈风险、政策风险、流动性风险等等，风险管理和控制一直是金融业的重中之重。</p>
<p>诺贝尔经济学奖得主、耶鲁经济学教授罗伯特·希勒曾提出过这样的理念：<strong>金融不只是为了赚钱</strong>，而是为了推动实现<strong>良好</strong>(见仁见智的形容词)的社会。 现下却是，金融和铜臭味的金钱基本是划等号的。</p>
<h2 id="金融现状体验"><a href="#金融现状体验" class="headerlink" title="金融现状体验"></a>金融现状体验</h2><p>曾几何时，<strong>中国老太太和美国老太太</strong>的故事，影响了多少涉世未深少男少女的消费观。故事续集无须再编写，信用社会的美国在2008年用它的次贷危机狠狠的教训了一票“<strong>透支未来</strong>”的青春们。世事好轮回，苍天饶过谁。金融玩家总会找个时间，卷土重来、改头换面、千方百计地拿走你兜里的钱。</p>
<p>历史从未改变，从学校毕业后刚工作的你，自从有了信用卡、开通了花呗或者白条，月光、下月光甚至半年光是否成了常态，刚发的工资手里还没捂热，就得先还债去？！</p>
<p>我的年轻时代买个昂贵点的手机，得不吃不喝攒好几个月。也庆幸那时候的新手机发布不像现在这么频繁，不然等攒好钱再去买的那款几个月已经变成老款了吧。现在上万的iPhone，银行等金融机构直接给你免息的半年或者一年的分期产品，每个月还千把块钱的负担不成问题。看似这些金融机构不挣钱赚吆喝，且不说他们可以从商家那边收取佣金，用户似乎也着实赚了便宜，那这个金融产品到底在玩什么？抛开那些新兴金融机构的获客营销因素，金融玩家们提前半年甚至一年锁定了你口袋里的那部分钱，等当你口袋里没钱的时候，可以让你选择继续账单分期，再次加长你的借贷周期，而且这次当然就不是免费的了。某种程度上这加快了消费市场的产品更新速度，PUSH你换新的手机、新的相机、新的笔记本。还有更快的，贷款没还完，手机被偷了…(我身边可不止一例) </p>
<blockquote>
<p>如果你的收入只是用来还贷，那必然没有额外资金投往投资理财渠道，你的资产其实就是在缩水。</p>
<p>有人开始动歪脑筋了…分期的产品想办法套现去买个高息理财…</p>
<p>虽然这点钱也挣不了几个铜板的利差,但，整个社会的金融杠杆就是这么被加上去了!</p>
</blockquote>
<p>其实这里最恐怖的是什么呢？很多消费者在不断透支的行为中迟钝于金额数字的变化，透支第一笔无压力后继而透支第二笔第三笔，透支成为了习惯，然后日常收入演变成自动还款，直到入不敷出，个人资金断裂。这是一个<strong>可怕的潜移默化的消费行为养成</strong>。在这款金融养成类游戏里，你成了那个“<em>金融宠物</em>”。</p>
<p>频繁的P2P爆雷让多少投资者血本无归，当余额宝成为一个现象级的理财产品，大大拉低了普通民众理解和进入理财的门槛之后，各种各样的高息且打着银行、保本旗号的理财产品如雨后春笋般出现，人们蜂拥而至，一如抢购黄金的中国大妈。中国人的文化是相对保守的文化，在消费上就可见一斑，为何现在整个社会的消费观都开始变得越来越激进？理财观也随之激进起来了呢？高收益等于高风险，捡钱的事给你你敢要，只能说明金融理财市场的参与者，已经成为了<strong>一群群体无意识的“乌合之众”</strong>。</p>
<p>若然金融玩家们就是想不断的吸食这些“乌合之众”，那这些玩家就是水蛭，就是要被国家打击和监管的，这不是金融该有的样子。把合规、正确的金融服务提供给社会群体，让他们明确的知晓风险和收益情况，才是正道。</p>
<h2 id="FinTech-Or-TechFin"><a href="#FinTech-Or-TechFin" class="headerlink" title="FinTech Or TechFin"></a>FinTech Or TechFin</h2><p>马大大烙印下的蚂蚁金服在金融变革上一马当先，造词功力那更是一流。在金融和科技谁先谁后的问题上，很多人或组织还没搞清楚的时候，蚂蚁已经提出了<strong>TechFin</strong>的概念。</p>
<p>在这之前，互联网科技从业人员多以变革者甚至颠覆者姿态切入金融领域，看不起传统金融的那一套，一门心思让科技驱动金融、颠覆金融。忽然有一天，传统金融准备联合起来(打小报告也算)对这帮不知天高地厚的“变革者们”动刀了，“变革者们”才发现自己完全不够个儿，主要表现在比如对风控的无知、对政策的漠视以及对金融产品设计的忽视等等，这是其一。其二，金融业可追溯到公元前，如此悠久的历史让金融体系的内涵和外延如此庞大，科技想一口吃下来，不啻于痴人说梦。不懂金融却宣称颠覆金融，很可怕。</p>
<p>其实，<strong>科技并没有改变金融的本质</strong>，最多改变了金融信息传递的速度、距离、时间等等因子。科技可以重塑金融的形态，助力金融更好的服务于长尾客户，最后两者你中有我，我中有你，互相融合才是终态。所以Fin &amp; Tech谁先谁后，孰优孰劣，Who cares!</p>
<p>那么，互联网金融科技公司到底给社会带来了什么呢？在很多人眼里这些公司不过是金融水蛭，附着在金融体系这条大腿上不断吸食穷人的那点鲜血，没有任何价值。这观点当然过于偏激了，让我们辩证一点来看。金融科技在很多交易场景里带来了很多的便利性，也可以给资产和资金搭建了更快速安全的平台(比如<em>余额宝、P2P、助贷平台、智能投顾</em>等)。要注意的是，随着资金和资产的瞬息转换，这给金融监管提出了难度更高的命题。资产证券化、债权转移、洗钱等等都藏在这海量的金融交易中，如何监察呢？在很多金融交易场景中，传统金融机构沦为了金融科技公司背后的资金方，海量交易行为和金融数据都被金融科技公司给截留了，传统金融不可能甘心藏于幕后，看着金融科技起高楼宴宾客，即便自己转身较慢，但一旦转过身可能就不会给金融科技什么机会了。</p>
<h2 id="金融科技的出路"><a href="#金融科技的出路" class="headerlink" title="金融科技的出路"></a>金融科技的出路</h2><p>上文也或多或少提到了，科技颠覆的不是金融的内核，而是金融的外在形态。金融也不仅仅是只为富人或者大型企业服务，也应该为更多的普通人和小企业服务，所谓的普惠金融就志在于此。我理解金融科技的出路就是，<strong>用科技让金融更好地服务和优化商业活动和经济生活</strong>。二维码支付、人脸支付、征信链，小微贷、消费贷、智能投顾…这些技术和产品就在我们身边，服务于支付、信贷和理财等场景。</p>
<p>让我预测金融科技未来的话，内核一定是“<strong>服务</strong>”二字，只要服务好社会助力好金融，收益会随之而来都不需要刻意逢迎。任何只盯着如何用科技在金融行业赚钱的组织或个人，不出意外最后都得吐出来。在合规监管体系下的金融科技必须要看清楚自己的位置，与天斗其乐无穷，与金融斗死无全尸。</p>
<p>接下来就是考虑如何切入金融“服务”这件事上来。<strong>更好的服务切入通常意味着目前存在糟糕的体验或者痛点</strong>，比如基于社交网络的反欺诈，传统的关系型数据库在两度的社交网络中表现得已经捉襟见肘，无用说实现更多的度；图像识别技术给远程开户、活体检测提供了比人类肉眼更快更精准的鉴别能力；决策引擎的出现给风控业务人员更灵活、更安全以及性能更强劲的风控基础工具；区块链技术给了征信透明、资产溯源以及清结算等提供了更多的思路…</p>
<p>发现了么，这些技术解决的问题基本都是金融行业固有的一些痛点环节或者糟糕体验，很长一段时间内这个方向不会有太大变化。恕我能力有限，不排除真的有颠覆性的黑科技出现，但我想它一定是要举全社会之力才能实现的吧（<em>比如鼓吹了很久很久的区块链征信</em>）。</p>
<p>以上，只是金融科技从业者的喃喃自语。</p>
<p><img src="http://ww1.sinaimg.cn/large/40db64dbgy1ghfzs0kc4oj20dw0i2t9e.jpg"></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-05-08T07:14:05.000Z" title="2020-05-08T07:14:05.000Z">2020-05-08</time></span><span class="level-item">Updated&nbsp;<time dateTime="2020-05-08T07:16:53.276Z" title="2020-05-08T07:16:53.276Z">2020-05-08</time></span><span class="level-item">16 minutes read (About 2405 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/05/08/execuse-for-programmer-md/">给程序员的错误找个台阶</a></h1><div class="content"><p><img src="https://imgkr.cn-bj.ufileos.com/d0f15644-dd25-478f-b933-25d79a445411.png" alt="题图"></p>
<blockquote>
<p>2020这个人生最漫长的寒假，翻了一些书，记下不少名人趣事。百无聊赖间把这些小故事做了个分类，再把平日所见种种对照落入其中，遂成此短文。</p>
<p>我工作中常常以错误零容忍自居，对团队的错误”颐指气使”，想来也是让人极为厌恶的。人非圣贤，高人亦如此，何况吾凡辈。有些错误换个角度反而是一种美，那我们就从递台阶开始吧。</p>
</blockquote>
<h2 id="01-管杀不管埋"><a href="#01-管杀不管埋" class="headerlink" title="01 管杀不管埋"></a>01 管杀不管埋</h2><p><code>台阶：大名鼎鼎的J.U.C并发包</code></p>
<p><img src="https://imgkr.cn-bj.ufileos.com/3a638b09-daf2-463d-b344-500f282c1995.png"></p>
<p>程序员皆知J.U.C包的造物主是并发大师Doug Lea。在jdk5之前对于线程同步使用的技术基本就是synchronized、wait、notify这些(用过jdk1.4或更早版本的老古董可以文末举个手，大爷我从jdk1.3入坑)。这时的并发控制不够优雅，性能也差的很，直到Doug Lea把JSR-166号提案提交到JCP组织(<a target="_blank" rel="noopener" href="https://jcp.org),而这个jsr-166就是j.u.c的技术规范./">https://jcp.org)，而这个JSR-166就是J.U.C的技术规范。</a></p>
<p>更牛掰化的是，在提案之前Doug Lea早就写完了基本类似现在J.U.C的整套原型代码，并已经使用它长达3年之久了，我们真该庆幸老李没有藏起来自斟自饮。</p>
<blockquote>
<p>参考 The birth of J.U.C<br/><a target="_blank" rel="noopener" href="https://programmer.help/blogs/the-birth-of-j.u.c.html">https://programmer.help/blogs/the-birth-of-j.u.c.html</a></p>
</blockquote>
<p>即使如此牛掰，我们也要鸡蛋里挑骨头。当使用 synchronized 关键字使对象阻塞时，通过线程dump能够看到被该阻塞的对象信息，方便问题定位。而jdk5里面的Lock等并发工具却遗漏了这一点，致使dump线程时看不到阻塞对象的信息，因而不得不在jdk6中的LockSupport新增了含有阻塞对象的park方法。</p>
<p>老李这种神人可能压根不需要dump文件，就可以盲分析出线程问题所在。但是这可苦了我辈Javaer了呀，因为代码不仅是给人用的，还是方便给人修的，不然很多数码家电都有厚厚一本操作手册可不是当摆设的。</p>
<blockquote>
<p>不过这个锅到底是不是老李的，历史过于悠久，搜遍Google亦无从考证，遂作罢。老李背不动总得有jdk的某个人背。</p>
</blockquote>
<p><strong>管杀不管埋</strong>，个人觉得，是程序员群体特别容易掉进去的一个错误陷阱。它像不像写代码不写注释的你，像不像通篇大段逻辑代码却没有打印日志或者打印无脑日志(无助于排障)的你，像不像应用上线没有接入日志系统或者监控系统的你…现在，台阶已奉上，供君拾级而下。</p>
<h2 id="02-绣花枕头"><a href="#02-绣花枕头" class="headerlink" title="02 绣花枕头"></a>02 绣花枕头</h2><p><code>台阶：Homebrew的作者谷歌面试被拒</code></p>
<p><img src="https://imgkr.cn-bj.ufileos.com/028d477a-ae72-4d3b-8636-6d58138eeb9d.png"></p>
<p>平时用macOS做开发的同学一定对Homebrew这个软件包管理工具不陌生，这个广有知名度的软件的作者Max Howell某一天去谷歌面试，面试官让其在白板上徒手写个反转二叉树的代码实现，这位大神说不会，然后就没有然后了，再然后就有了上面的twitter怒怼，再再然后LeetCode上架了这个算法题并标注为Easy级别…</p>
<p>此热门事件当时在程序员圈迅速发酵，引起正反两派的激烈辩论。但双方不管怎么互怼，大部分人应该私下都偷偷的去把反转代码撸了几遍，然后像模像样的再把非递归的比如队列算法再撸几遍，顿时，感觉自己要超越世界级大牛了…至少在反转二叉树这块…</p>
<p>说绣花枕头略有些过，毕竟任谁都会有一些知识死角。反过来说，还是看我们怎么定义这个问题，到底是不可避免的知识死角还是过于薄弱的基础能力。<strong>扬长避短是一种人生，那查漏补缺未尝不是一种更积极的人生态度</strong>。</p>
<h2 id="03-玩物丧志"><a href="#03-玩物丧志" class="headerlink" title="03 玩物丧志"></a>03 玩物丧志</h2><p><code>台阶：Unix本是用来玩游戏的</code></p>
<p><img src="https://imgkr.cn-bj.ufileos.com/f0b0addb-0025-4d7a-9d6b-294883b333ae.png"></p>
<p>现在我们开发环境所属的操作系统无非Windows, Mac(Unix BSD分支)或Linux(类Unix)，除了Windows其他两个的内核鼻祖都是Unix。那么当然地，作为Unix的发明人 <strong>Ken Thompson 和 Dennis Ritchie</strong>，必然是鼻祖级的传奇人物，更不用提他俩一个是B语言之父，一个是C语言之父了。</p>
<p>何曾想，Unix的诞生只是因为一个叫Space Travel的游戏在当时的MULTICS系统上运行太慢，要迁移到一个更精简的操作系统上。然后有了Unix，和它收割世界的故事了。</p>
<blockquote>
<p>Space Travel游戏真身<br/><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Space_Travel_(video_game)">https://en.wikipedia.org/wiki/Space_Travel_(video_game)</a><br/><a target="_blank" rel="noopener" href="https://www.uvlist.net/game-164857-Space+Travel">https://www.uvlist.net/game-164857-Space+Travel</a></p>
</blockquote>
<p>有人因为游戏开发了外挂，有人因为游戏开发了Unix…看来玩游戏并没有那么不堪，换个角度，游戏确实也是用来放松和激发想象力的有效手段，只会机械的编程与咸鱼有何分别？那么，工作中有些小伙伴玩心重，建议也不要急切的下定论。</p>
<p>依然记得当年公司的编程规范考试，我找了个开源的PHP考试系统简单修修改改后，部署发布在了公司内网。考完后的阅卷原以为平淡无奇，直到发现有人在编程题里注入了XSS代码，具体的弹窗内容已经不记得了，我只记得他当时错了蛮多题，理应过不了考试，但是我依然给了他过，不只是因为有趣还因为作为小鲜肉程序员有如此的知识厚度很难得。此时的我并不想拿规范考试束缚他。</p>
<p>恩，足够牛逼的人走到哪里都会有特权，就是这么回事。</p>
<blockquote>
<p>附一个很有趣，Star高达38K的Github项目<br/><a target="_blank" rel="noopener" href="https://github.com/kelseyhightower/nocode">https://github.com/kelseyhightower/nocode</a></p>
</blockquote>
<h2 id="04-砍材不误磨刀功"><a href="#04-砍材不误磨刀功" class="headerlink" title="04 砍材不误磨刀功"></a>04 砍材不误磨刀功</h2><p><code>台阶：写算法我最优，但写书我得慢</code></p>
<p><img src="https://imgkr.cn-bj.ufileos.com/f147654a-b4cd-4464-b664-27e576ba43d6.png"></p>
<p>我们要再提一个神级大佬Donald Ervin Knuth, 中文名叫高德纳。</p>
<blockquote>
<p>不少人以为是Donald的音译，叫人家高纳德，以人家自己的首页为准<br/><a target="_blank" rel="noopener" href="https://www-cs-faculty.stanford.edu/~knuth/">https://www-cs-faculty.stanford.edu/~knuth/</a></p>
</blockquote>
<p>称他为算法之父毫不为过，因为我们现在用的数据结构、算法复杂度、算法分析符号啥的都是他发明的。当然更为世人所熟知的是他的巨著《The Art of Computer Programming》，简称 TAOCP，中文名 计算机程序设计艺术。原本出版社只想跟老高约一本关于编译器和程序设计方面的书，结果老高四年没写完，手稿倒是写了一堆，憋着劲要写一本传世之作，算来算去得整七卷。意料之外情理之中，刚刚写完第三卷，就被计算机界奉为神作，ACM的评委们也坐不住了，迫不及待要给老高颁发图灵奖。所以至今，老高(当时36岁)仍旧是最年轻的图灵奖获得者。</p>
<p>历史继续滚动，故事却刚刚开始。拿到图灵奖后不久老高就宣布搁笔，理由是排版工具太差，不能忍了。紧接着，说江郎才尽、见好就收的非议如期而至，人老高神人怎会在乎尔等凡人的屁话，说搁笔就搁笔，一搁就是十年之久。期间老高可没闲着，陆续创造了文字排版系统TEX(大名鼎鼎LaTeX的雏形)、字体设计系统METAFONT和文学化编程Literate Programming。再拿起笔写完第四卷已是2008年，距离第三卷过去了30多年。</p>
<p>你说30年，用再烂的排版系统怎么也可以捣鼓出来一本书了吧？话是没错，但这和写代码不复用不抽象，就是CopyPaste有何区别呢？</p>
<blockquote>
<p><strong>笑话一则</strong><br/>当年Linux之父Linus说：上帝在梦中告诉我，我做出了最优秀的操作系统。<br/>高德纳回答说：我可没这么说过。</p>
</blockquote>
<p><strong>程序员的工作目标从来不是最快而是最优，工作内容从来不是重复性劳动而是创造性工作</strong>。若因为蹩脚的工具、繁冗的流程、糟糕的设计不能忍而影响了自己的交付进度，不用怕，程序员就该有程序员的样子！</p>
<p>以上，共勉。</p>
<p><img src="https://imgkr.cn-bj.ufileos.com/d1e84d1e-86d1-435b-bb80-da48c99ad1e3.png"></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2020-04-29T08:52:44.000Z" title="2020-04-29T08:52:44.000Z">2020-04-29</time></span><span class="level-item">Updated&nbsp;<time dateTime="2020-08-05T08:07:41.013Z" title="2020-08-05T08:07:41.013Z">2020-08-05</time></span><span class="level-item">30 minutes read (About 4503 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/04/29/power-of-archtect/">我也曾对架构师的力量一无所知</a></h1><div class="content"><blockquote>
<p>是不是觉得这个标题似曾相识？</p>
<p>没错，就是致敬韩寒的那篇《 <strong><em><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/9g_UxQUSrfe5XqHN8YsG5w">我也曾对那种力量一无所知</a></em></strong> 》。全文主旨就是业余玩家自嗨可以，但千万别狂妄到企图挑衅专业选手。否则，下场就和当初的 <strong>松江新区·奥沙利文·韩寒</strong> 一样，在潘晓婷面前只有开球的份儿。</p>
</blockquote>
<p><img src="http://ww1.sinaimg.cn/large/40db64dbgy1ghfzwdh9o5j20g4096q3a.jpg" alt="镜头后的导演韩寒"></p>
<p>虽说我和韩寒同年，但也算是“看着他长大”的。韩寒成名于新概念作文，而后不断开挂，在作家、赛车手、导演等多个角色上都游刃有余且扮演的相当成功，如此色彩斑斓的人生一直让我艳羡不已。而我，一介码农，初时随波逐流，醒时已亦步亦趋在架构之路上，艰苦非常。</p>
<p>因为，架构师的力量，我也曾一无所知。</p>
<h2 id="代码执念"><a href="#代码执念" class="headerlink" title="代码执念"></a>代码执念</h2><p>每个程序员对美的代码的认知不尽相同，但大多有个共识，那就是，架构师设定的各种条条框框简直是<strong>对美的亵渎</strong>！<br/>其实，你可能对架构师的执念一无所知！</p>
<p><strong>表面看到的</strong>：架构师成天没事找事，发布代码规范，设定评审标准。执着于代码的洁癖，分层的固化、API的标准化、中间件的抽象化…</p>
<p><strong>实际发生的</strong>：光秃秃(没注释)的形似被混淆过(儿戏的命名|对不齐的段落)的千行代码，事务的注解可能在每一层都出现过，逻辑代码散落在Business/Service/Dao各层，只是因为不喜欢Hibernate所以选择MyBatis，只是因为谷歌脑残粉所以选择Gson/Guava…</p>
<p>随心所欲的代码会带来维护的困难和各种技术债，不统一的技术框架会引入更多的学习切换成本和升级优化成本，评审口径不一致会导致团队聚焦散乱各自为战…架构师作为团队的一个辅助型英雄，着实操碎了心。</p>
<p><strong>架构师的执念，就是尽最大努力，在低位面减少技术熵增，高位面寻求技术突破</strong>。</p>
<blockquote>
<p>通过规范指定的标准都是<strong>低位面</strong>，不需要你在低位面上浪费任何时间扯犊子。而高位面一定是无法给出规范标准的，任你创新和发挥。</p>
</blockquote>
<p>同样是打印Hello World，就是有人会多渲染个ASCII字符画，让控制台输出不那么冷冰冰。<br><img src="http://ww1.sinaimg.cn/large/40db64dbgy1ghfzx9slzaj20l006475k.jpg" alt="figlet字体"><br><img src="http://ww1.sinaimg.cn/large/40db64dbgy1ghfzxekvgdj20u008xmzb.jpg" alt="Console输出"></p>
<p>第一次看到架构师写出下面这种条件表达式的<strong>非常规</strong>写法时，</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ( <span class="number">1</span> == iCount ) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ( <span class="keyword">null</span> != response &amp;&amp; <span class="string">&quot;SUCC&quot;</span>.equals(response.getCode()) &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>年幼无知的我曾经“嗤”出了声：“写个等式都要颠三倒四，整噱头博眼球么？” 直到我写出了如下错误，</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ( iCount = <span class="number">1</span> ) &#123;&#125;   </span><br><span class="line"><span class="comment">//漏了等号，永远为真</span></span><br><span class="line"><span class="keyword">if</span> ( response != <span class="keyword">null</span> &amp;&amp; response.getCode().equals(<span class="string">&quot;SUCC&quot;</span>)) &#123;&#125;	</span><br><span class="line"><span class="comment">//少写判空导致的空指针异常</span></span><br></pre></td></tr></table></figure>

<p>这种代码的反差犹如龙门客栈的老板娘<strong>金镶玉</strong>，看似风骚泼辣杀人越货，实则纯粹坦荡z至情至性。</p>
<p><img src="http://ww1.sinaimg.cn/large/40db64dbgy1ghfzynnjchj20hs09z0zk.jpg" alt="张曼玉版金镶玉"></p>
<p>当你傻傻的写乘/除2的N次方时可还记得骚气的位运算…骚气的try-with-resource…骚气的Lambda…骚气的动态字节码…比比皆是。</p>
<p>这么些年我总结下来，架构师对代码的执念就是八个字：<strong>稳中带骚，骚中求稳</strong>。</p>
<p>用 <strong>Python之禅</strong> 收个尾：<br><img src="http://ww1.sinaimg.cn/large/40db64dbgy1ghfzyoso5cj20u00iejyn.jpg" alt="The Zen Of Python"></p>
<h2 id="造物主思维"><a href="#造物主思维" class="headerlink" title="造物主思维"></a>造物主思维</h2><p><strong>只活在IDE里写代码，是成不了架构师的。</strong></p>
<p>某个风和日丽的下午，公司里一个小伙伴到我面前说：他申请在一个月内重写消息网关系统(承载短信、微信、邮件、App推送四大渠道)，原因是目前的系统太难用了。我的第一反应是 <strong>“WOC，我一直盼望的那个救世主终于出现了么?!”</strong> 其实吧，那个消息网关系统曾经是我和架构组兄弟花不少力气设计的，本身并没有什么大问题，最多就是随着消息数量的指数级上升，需要做一些性能优化，比如 <strong><em>分库分表</em></strong> 和 <strong><em>数据归档</em></strong> 就能解决大部分问题，而这些升级所需的扩展性在设计初期就考虑过。我生怕表现出对这位“救世主”的质疑而显得不礼貌，就小心翼翼的试探了两个问题：</p>
<blockquote>
<p>“如何平衡上游业务的洪峰和下游消息通道的最大承载，最大化单位时间内的吞吐量？”<br/><br>——<strong>微服务体系的流量控制</strong><br/></p>
<p>“个人交易消息和全局活动消息，如何存储和查询？”<br/><br>——<strong>时间和空间的抉择</strong></p>
</blockquote>
<p>结果我得到的回复只是线程池、异步化和缓存的泛泛之谈，离真正的落地还差的很远。除了上面2个问题，还有同步异步、时效、延迟、通道隔离、信息补偿、环境开关等的实现同样很重要。</p>
<p><strong>造物思维就是从0到1需要的思维，这个1可不简单，它必须包含进化到100所需要的一切基础铺垫</strong>。女娲抟tuán土造人只存在于神话中， 而架构师就是可以从0到1创造系统的“上帝”，<code>只是翻船事故时有发生而已</code>。不要轻视任何从0到1的创造性活动，这里所包含的知识或技能体量远超你的想象。</p>
<p>为了解释这个过程，<strong>请你单从数学的角度，告诉我 (0, 1) 这个开区间之中到底有多少个数</strong>？</p>
<ul>
<li>如果是无穷，那么二进制的计算机如何运算这无穷的数字呢？有同学回答，计算机是使用离散的浮点数来表示这些小数的。是没错，而本质上，浮点数在坐标轴上也就只是很密集的点而已，根本就不是连续的线。</li>
<li>既然全是点，更加疑惑了，计算机怎么画线呢？到这里就可以结束了，因为显示器的像素本就是人肉眼无法识别的小格子，足够密集的点足以呈现出线的效果。</li>
<li>继续刨根问底，那得了解下什么是定点数了，才可以让密集的那些点更加的密集。</li>
</ul>
<blockquote>
<p>希望你能静下心来读读这篇浮点数，<br/>读完你至少可以了解“取值范围”和“可表示的个数”之间、浮点数和定点数之间的区别等等。</p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/BSX59G9k-lt9yAcFnatR0g"> 《格物致知-Floating Point》 </a></p>
</blockquote>
<p>我想我应该从一个理科男的角度，说明白了创造需要的是什么：<strong>足够密集的知识点和它们之间的连接</strong>。也有人把它包装成了“**<em>知识体系**</em>”，说到底，一个意思。</p>
<p>创造本身已然不容易，如何创造更加五花八门。<strong>架构选型其实就是选择如何创造</strong>。<br/>同样是索引化的数据存储，Kafka是索引文件和数据文件分离，MySQL InnoDB却是索引和数据在同一个ibd文件里。都说多线程吞吐量高响应快，Redis却选择了单线程模型(<code>Redis6已经加入了多线程实现，主要用于处理网络IO上。命令的执行依然是主线程串行执行</code>)。孰对孰错？<br/>所以<strong>创造从来都不是千篇一律，也不是一成不变，而是量体裁衣</strong>。</p>
<p>高明的架构师心里藏有无数的架构设计方案，但对于不同的场景，他会选择最合适的那个来实现。因为<strong>架构更像一种艺术而不是科学</strong>。你只看结论的话，或许最终方案并不怎么出色，甚至很普通。但是它是经过N个方案PK胜出的The One，对其他你以为更好的方案所面临的未知，你可能一无所知。</p>
<h2 id="面对未知的勇气"><a href="#面对未知的勇气" class="headerlink" title="面对未知的勇气"></a>面对未知的勇气</h2><p>我有深海恐惧症，许多人都有。因为面对黑不见底的海水，我们充满了对未知的恐惧。</p>
<p><img src="http://ww1.sinaimg.cn/large/40db64dbgy1ghfzyr9zhaj20sw0cotc8.jpg" alt="百度有时也挺人性的"></p>
<p>IT行业的未知每天都在发生着，经常让我们手忙脚乱。何谓”<strong>未知</strong>“？它可以是诡异的生产故障，可以是全新的技术，也可以是模糊的未来业务形态， 而架构师的核心职责之一就是<strong>从容的解决未知</strong>。</p>
<p>就，对大家来说一样都是未知，凭啥架构师就有勇气从容应对？傻孩子，架构师的身后哪里还有人？不得死撑哇！当然我是在开玩笑。许多诡异的生产问题有重启大法，但让习惯了SSH编程的你，使用Reactive来实现一套响应式服务端系统，这种未知领域你会如何应对？连产品经理都看不清的未来业务形态，你又会如何设计系统的扩展性呢？</p>
<h4 id="草木皆兵"><a href="#草木皆兵" class="headerlink" title="草木皆兵"></a>草木皆兵</h4><blockquote>
<p>问：你这一生碰到过的最严重的生产事故是什么？<br/>答：抱歉，从未碰到过。</p>
</blockquote>
<p>你会如何评价此人？架构师生而从容，不仅是做到泰山崩于前而色不变，更是因为严重的事故甚至细微的事故苗头都早已被扼杀在摇篮之中。<strong>海恩法则</strong>指出：每一起严重事故的背后，必然有 29 起轻微事故和 300 起未遂先兆以及 1000 起事故隐患。</p>
<p>几年前有段时间我开车总觉得方向盘有点松动，一直没当回事，觉得可能车老了或者自己平时方向打太紧了。某天预约做保养，车店老板小马哥把我车开走没10分钟，就给我来一电话：<br/></p>
<blockquote>
<p>“你的转向柱可能出问题了，方向盘有点松，你之前有发现么？”<br/>“<em>我知道的，可能车老了吧，也没当回事。</em>”<br/>“你小子，转向问题很吓人的，我都不敢开了，到店里马上帮你检查看看。”<br/></p>
</blockquote>
<p>后来结果你们也想得到，真的是转向柱断裂！幸好在事态严重之前，小马哥凭借专业素养发觉了这个隐患。所以这<strong>到底是是我的无知无畏还是小马哥的小题大做</strong>？开车的同学都知道车的制动、转向是性命攸关的大事，但是你自问对 车跑偏、刹车异响、刹车发抖、转向沉重 都足够警觉么？其实，架构师在评审会上表现出的“<strong>草木皆兵</strong>”亦是一种执念，他所看到的“<strong>尸横遍野</strong>”，你可能一无所知。</p>
<h4 id="知道自己不知道"><a href="#知道自己不知道" class="headerlink" title="知道自己不知道"></a>知道自己不知道</h4><p>给你100W让你实现一个数据库，这活敢接么？就说这活本身，先别忙嫌钱多钱少。把你所有的与数据库相关的知识拿出来，你看看能凑出下面哪些模块出来？<img src="http://ww1.sinaimg.cn/large/40db64dbgy1ghfzys8fbyj20m70ip0ux.jpg">先搞清楚“知道自己不知道”的是什么，才有办法将未知变已知。<strong>解决未知就是不断的转化已知的过程</strong>。这也是为什么竞品软件都在造轮子，但是侧重点迥然不同，就是已知不同。这个“已知”可以是商业产品、开源产品，也可以是论文报告，还可以是业务、技术痛点，不一而足。<em>RocketMQ</em>当初参照了Kafka，在牺牲了部分性能的情况下优化了投递时效、消息顺序、消息轨迹等；<em>TiDB</em> 是基于 <em>Google Spanner / F1</em> 论文实现的开源分布式 NewSQL 数据库；开源调用链如Skywalking、Pinpoint都是基于 <em>Google Dapper</em>  论文实现的；界面简洁、容量大、搜索强的 <em>Gmail</em> 横空出世，面对众多传统邮箱的狙击，依然成为人们最爱的邮箱品牌，顺便激活了半死不活的 <em>javascript</em> …</p>
<p><strong>未知? 不过尔尔。</strong></p>
<h2 id="架构师的天赋"><a href="#架构师的天赋" class="headerlink" title="架构师的天赋"></a>架构师的天赋</h2><p><strong>只有天才的程序员，没有天才的架构师。</strong></p>
<p>架构师靠的不是天赋，而是勤勉，要靠大量时间进行实战操练和经验积累。身边水货架构师这么多，也是因为国内的技术氛围略显浮躁，留给架构师成长的那点可怜的时间和空间，时刻被公司项目挤压着，拔苗助长，不得不水。热门吵架题目“<strong>架构师要不要写代码</strong>”，理性点的人会把架构师做个分类，摘出个比如 <em>业务架构师</em>，说可以不用写代码。但是他不可能从石头缝里蹦出来，若没有对业务浸淫多年的历练(编码只是一个历练维度)，如何能设计出合理的业务架构来？所以别再问这种傻X问题了，何苦给自己的偷懒找借口还如此冠冕堂皇？宁愿换个题目讨论，<strong>“架构师的门槛是写多少行代码”</strong>。</p>
<h4 id="技术密度"><a href="#技术密度" class="headerlink" title="技术密度"></a>技术密度</h4><p>程序员起步阶段的技术能力，通常是“蜂窝”状的，也就是存在大量的<strong>技术空洞</strong>，而这些空洞需要通过勤劳的采蜜，累积一点一滴的“<strong>蜂蜜</strong>”来填满。科学爱好者都知道中子星的密度堪比黑洞，类比将地球压缩成中子星，直径只有22米，普通的原子都没办法在中子星附近停留，会被撕碎、经过引力坍塌后进一步压缩。架构师就擅长这种吸收并压缩知识的套路。硬要我给架构师的天赋定一个指标的话，那就是<strong>技术密度的高低</strong>。初二物理都学过 <strong><em>密度 = 质量 / 体积</em></strong>。对应到代码，同样质量的一个功能，你写一页，架构师寥寥几行，这就是高技术密度的直观体现。</p>
<p><img src="http://ww1.sinaimg.cn/large/40db64dbgy1ghfzytgh6xj20u00is1f5.jpg"></p>
<h4 id="有效练习"><a href="#有效练习" class="headerlink" title="有效练习"></a>有效练习</h4><p>再来，假如已经部分交付如上图的一个“<strong>蜂巢</strong>”系统，现在需要你实现更多的“<strong>六角蜂室</strong>”以扩充这个蜂巢。 <br/></p>
<blockquote>
<p>这个工作乍看起来像不像重复劳动？</p>
</blockquote>
<p>其实不然。<br><strong>首先为什么选择六边形？</strong> 不是圆形不是三角形不是正方形？经测量，六边形蜂室的所有钝角都是109°28′，所有锐角都是70°32′。曾有法国数学家研究过，如果要消耗最少的蜂蜡，制成更少间隙、更大容积和更坚固的容器，就只有这个角度的六边形。 <br/><br><strong>其次蜂巢是倒挂的，为何液态的蜂蜜不会流出？</strong> 因为蜂蜜本身含水量不到18%，流动性比水要低得多，但低流动性不代表不流动。所以蜂巢要保持9~14度左右的倾斜，进一步防止蜂蜜流出。 <br/></p>
<p>实际结果是，你的“蜂室”交付了，但是<strong>你对角度，一无所知</strong>。</p>
<p>我生来觉得自己是个愚人，即使学习成绩一直算优秀，也会全归于自己的勤勉。因为身边的天才好像真的不需要努力。我能成为架构师，也是走上程序员这条不归路的不得已之选。架构师之路漫长且艰难，而今我也只是摸到些许门路，大多时候对于自己的“不知道”依然惶惶不可终日。</p>
<p>你是否也曾对架构师的力量不屑一顾过？不管是立志成为架构师或已然成为架构师，都请谦虚并努力起来。谁也不敢妄言自己掌握了架构的终极力量，因为</p>
<p><strong>架构之路越走越无知，一如人生路。<br/>尊重架构师的力量，一如尊重未来的你。</strong></p>
<p><img src="http://ww1.sinaimg.cn/large/40db64dbgy1ghfzs0kc4oj20dw0i2t9e.jpg"></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-12-06T01:33:21.000Z" title="2019-12-06T01:33:21.000Z">2019-12-06</time></span><span class="level-item">Updated&nbsp;<time dateTime="2020-04-30T09:34:55.413Z" title="2020-04-30T09:34:55.413Z">2020-04-30</time></span><span class="level-item">6 minutes read (About 945 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/12/06/jira-select-list-multi-elegant/">JIRA自定义一个优雅的可多选下拉列表</a></h1><div class="content"><blockquote>
<p>公司PMO最新发布的规范，需要在每个JIRA故事里输入涉及上线的应用系统名称，最开始就是自定义了一个最简单的文本框，让Owner自己填写，多个系统逗号分隔。后来在数据统计的过程中发现系统应用名每个人写的千奇百怪，难于对齐。所以考虑将所有的系统应用名称导入到JIRA中，让Owner直接选择减少出错概率。但是JIRA内嵌的几个标准自定义控件，实在是不好用。</p>
</blockquote>
<p>自定义字段的路径是：右上角的“JIRA管理” -&gt;“问题”-&gt;“自定义字段”-&gt;”添加”，可多选的字段类型如下:</p>
<p><img src="https://imgkr.cn-bj.ufileos.com/0d4334b6-13fa-4005-98fa-32db99c71d5b.png"></p>
<p><img src="https://imgkr.cn-bj.ufileos.com/117e06c1-794e-4652-97a0-8e714108ecf6.png"></p>
<ol>
<li><p>多个checkbox的复选框，对于我们上百个的微服务系统，全部陈列到一个页面，那简直没法看，故而放弃。</p>
</li>
<li><p>Select List(多选)是个带垂直滚动条的多选框，这个控件也有问题，若上百个系统在里面滚动，多选需要按住Ctrl来多选，而且在滚动过程中，如果不小心没按住Ctrl，之前其他人选择的系统名称，可能就丢了，不直观。</p>
</li>
<li><p>Select List(级联) 场景不合适，忽略。</p>
</li>
</ol>
<p>  checkbox 和 多选列表效果如下图所示。</p>
<p><img src="https://imgkr.cn-bj.ufileos.com/4b46a400-3427-4035-b24e-9318ec9fd2d6.png"></p>
<p>那么有没有一种更优雅的方式，可以在下拉列表中多选，而且每次选择后可以有直观的提示我选择了哪些呢？当然有！而且只需要简单的几行代码。步骤如下：</p>
<p>**1.**继续之前的路径，在自定义字段界面，仍然选择Select List(多选)；</p>
<p><strong>2.**名称随便输入一个你想要在Issue编辑页上显示的名字，比如我这里是叫”**Related Applications</strong>“；</p>
<p>**3. **描述文本框留空，本文最关键的几行代码就是要存到这个“描述”里；选项先随便填入一个，确定即可；</p>
<p>**4. **进入JIRA的数据库中，运行如下SQL，找到这个ID，比如是12000；</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">id</span> <span class="keyword">from</span> customfield <span class="keyword">where</span> cfname=<span class="string">&#x27;Related Applications&#x27;</span>; //cfname就是刚才你自定义字段的名称</span><br></pre></td></tr></table></figure>

<p><strong>5.**复制如下的代码，将里面的<cf-id>替换为上一步从数据库里查询到的ID，比如<br>**customfield_<cf-id></strong></p>
<p> 替换后变为(注意不要不小心加入空格啥的)</p>
<p><strong>customfield_12000</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">$</span>) </span>&#123;</span><br><span class="line">   AJS.$(<span class="string">&quot;#customfield_&lt;cf-id&gt; option[value=&#x27;-1&#x27;]&quot;</span>).remove(); <span class="comment">//Removes the default value &quot;None&quot;</span></span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">convertMulti</span>(<span class="params">id</span>)</span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (AJS.$(<span class="string">&#x27;#&#x27;</span>+id+<span class="string">&quot;-textarea&quot;</span>).length == <span class="number">0</span>)&#123;</span><br><span class="line">           <span class="keyword">new</span> AJS.MultiSelect(&#123;</span><br><span class="line">               element: $(<span class="string">&quot;#&quot;</span>+id),</span><br><span class="line">               itemAttrDisplayed: <span class="string">&quot;label&quot;</span>,</span><br><span class="line">               errorMessage: AJS.params.multiselectComponentsError &#125;);</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   AJS.toInit(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line">       convertMulti(<span class="string">&quot;customfield_&lt;cf-id&gt;&quot;</span>);</span><br><span class="line">   &#125;)</span><br><span class="line"> </span><br><span class="line">   JIRA.bind(JIRA.Events.NEW_CONTENT_ADDED, <span class="function"><span class="keyword">function</span> (<span class="params">e, context</span>) </span>&#123;</span><br><span class="line">       AJS.$(<span class="string">&quot;#customfield_&lt;cf-id&gt; option[value=&#x27;-1&#x27;]&quot;</span>).remove();</span><br><span class="line">       convertMulti(<span class="string">&quot;customfield_&lt;cf-id&gt;&quot;</span>);</span><br><span class="line">   &#125;);&#125;)(AJS.$);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><strong>6.</strong> 从JIRA管理重新进入”自定义字段”，选择”编辑”，将上一步全局替换完毕的代码黏贴到“描述”中，保存；</p>
<p><strong>7.</strong> 退出继续对自定义字段“配置”多个可选项，手动一个一个添加吧…</p>
<p><em>我曾经试过直接在数据库表 customfieldoption中插入，后来会引起ID冲突，全部回滚了。如果真的太多选项，你可以网页抓一下network找到那个jspa接口，自己写代码调用接口也可以。反正尽量不要直接操作数据库。</em></p>
<p><img src="https://imgkr.cn-bj.ufileos.com/f9ce71e3-c7f6-481d-bef3-64d7f9381d3d.png" alt="优雅的下拉列表"></p>
<p><strong>大功告成！！！</strong></p>
<p><code>欢迎关注我的公众号</code><br><img src="https://imgkr.cn-bj.ufileos.com/04aaeb31-ddcc-4e67-92f9-89325a7946d2.png"></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-12-06T01:28:18.000Z" title="2019-12-06T01:28:18.000Z">2019-12-06</time></span><span class="level-item">Updated&nbsp;<time dateTime="2020-04-30T09:35:18.371Z" title="2020-04-30T09:35:18.371Z">2020-04-30</time></span><span class="level-item">22 minutes read (About 3315 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/12/06/letter-to-5-years/">写给工作5年的年轻程序员的一封信</a></h1><div class="content"><p><strong>“准大牛”</strong>兄，</p>
<p>见信好。</p>
<p>希望你不会反感我给你的这个特别称号。我们程序员中的大部分工作到5-6年这个节骨眼儿，不出意外可以称为“准大牛”了。此时的你技术研发能力正在成熟或已然成熟；架构设计能力初现峥嵘；创新能力让新奇想法层不出穷；管理能力正在路上以寻求角色转变；总之你正在打磨自己专属的个人标签和风格。这个时点是个小高峰亦是关键转折，此信写予你，乃近多与此段位朋友聊天的触动所得，权当小叙寒暄，建议也好警示也罢，老年人难免絮叨，还忘担待一二。</p>
<p><strong>自知者明。</strong></p>
<p>老子说：知人者智，自知者明。识人知人已然需要莫大的智慧，而更高明的人还需要做到“自知”，即知晓自己的长处和短处、优势和劣势。而通常情况下“目不见睫”，自己是看不到自己缺点的。这个阶段的你比刚毕业走入社会的迷茫的你并好不了多少，此时的你有了相对扎实的技能和功力，面前的岔路会更加的多样化，会更难以取舍。自知是你以后拥有自信、自律、自尊和自强的根本。自知很容易发生如下两种极端，请甄别后尽快调整。</p>
<p>第一种倾向于自我能力的否定，有个专有名词叫“冒充者综合症Impostor syndrome”，形容的就是这么一群人：或者觉得凭自己的能力无法取得成功；或者即便成功了，也会归结为其他因素(如侥幸)。这种心理的形成分两类：一类是因为过于追求完美，生怕破坏完美，继而产生否定，一类是因为甚少得到肯定，从而对自己的能力产生了质疑。我自己就是追求完美导致自我否定的那类人，比如写篇文章都会推敲纠结好久，生怕写出什么漏洞被人耻笑。后来在公司推行知识共享文化的时候，发现我不是一个人…很多团队的小朋友其实能力不错的，但是让他写篇文章好像要了他的命了，非遍稽群籍不敢投稿。精益求精不是错，但还没到大牛的档位先拿大牛的标准否定自己，这是病，严重点会演变成自卑，得治。治疗方案很简单，适当放低自我标准，有进步空间但不会压迫感十足的那种。</p>
<p>第二种反过来是高估自己的能力水平，也有个对应的专用术语叫“达克效应”，通俗点的说法就是“无知者无畏”，达尔文也说“无知要比博学更容易产生自信”，确实，盲目的自信可以让人无所畏惧。很多人包括我自己有时候都没意识到自己在无知中让人贻笑大方，我这里罗列几种典型的行为特征供你参考，很可能你已经在品尝无知造成的恶劣后果：</p>
<p>a. 在他人发表意见的过程中频繁打断对方，而且并没有认真聆听他人的表述；</p>
<p>b. 周遭四处弥漫着你的反对声音，而且并没有提供更有效的解决方案，仅仅是吐槽的反对；</p>
<p>c. 保守，难以接受新事物，展现出比较强烈的抵触情绪；</p>
<p>d. 激进，恨不得一股脑全部重构。觉得历史的代码都是垃圾，自己分分钟写出更好的作品出来;</p>
<p>e. 团队合作用较负面的情绪、烦躁的语气交流，比如被无端打扰时；</p>
<p>f. 觉得身边没有什么值得学习的对象，通常对公司内部培训的建议是非请阿里P9大牛不可得，基础培训从不出席，别问，问就是觉得出席这种太Low;</p>
<p>g. 眼高手低，逢评审必谈高并发高可用，但最简单的CRUD连个事务、异常、监控处理都没有考虑清楚；</p>
<p>如果你有上面的两条就得小心提防了，就算你不是真的无知，但是你是真的飘了，特别特别危险。</p>
<p><strong>重拾谦卑。</strong></p>
<p>当一个平时多仰视之人突然有一日可以俯视他人之时，特别容易滋生自负情绪。而你现在的时点正好是有机会俯视他人，想一想你看待工作1-2年的小鲜肉这也做不对那也做不好时的心态几何？你或多或少陷入了沾沾自喜，眼高手低，停滞不前，单兵作战不喜团队协作，自由散漫不喜规范束缚的幻象中。把你从膨胀的幻象中唤醒一时，不难；但让你完全清醒过来，却不容易，过来人给几条建议：</p>
<ol>
<li><p>找一位真正的大牛，找机会与他做几次思想碰撞，让自己深刻领悟到什么是井底之蛙和天外有天。“准”与“真”之间的距离可以放得下一个马里亚纳海沟，你的这点小成就在真大牛眼里自然不值一提，你自己更不应该因此自我满足。胸中有丘壑，立马镇山河，你的未来是星辰大海，永不停歇。</p>
</li>
<li><p>自负会让你在职场中处处受挫，而谦卑会让你受益。认真听取他人发言，仔细斟酌他人建议，虚心采纳他人意见，乐于合作并帮助他人都是谦卑的表现。而当你无时无刻都想通过为了反对而反对来展示自己的与众不同，当你肆意挖苦他人的不成熟或错误，当你视制度如无物深觉那是无能人士才需遵守的线，当你对合作不屑一顾只想自己单干…那你已经在自负的路上了。请重拾谦卑。</p>
</li>
<li><p>能够客观评价自己这5年的沉淀，到底是通过夯实基础技能、构建知识体系、突破思维局限带来的成长型积累，还是经年累月的熟能生巧和混资历带来的？多吃几年饭造成的“领先”，并没什么了不起，分分钟可以被人超越，这样说会让你更清醒一点么？</p>
</li>
</ol>
<p><strong>升级思维。</strong></p>
<p>初入职场的人经常吐槽的对象是直接或者间接上级，特别讨厌他们只会发号施令，放嘴炮不办实事的样子，这个阶段的人是执行者，是打工者，是眼界局限者。而你现在已经是工作5年的“准大牛”了，上级已经不可能还是吩咐你做一件件很具体的事务了，更多的是需要你主动往前走一步，可能没有参照，需要从0到1给出解决方案，你看待上级要做的事情也远远不是简单的执行。你的思维模式再不升级就晚了：</p>
<ol>
<li><p>领导思维。“领导”翻译下就是：带领一群愿意跟你拼的小伙伴，一起攻克难关。这句话千万别理解成只要我自己足够牛逼，就可以拖着团队干成大事。这句话的题眼其实是如何让团队“愿意跟你拼”，并不是你有硬实力就一定有魅力，你的沟通软技能、你的规划统筹能力、你的赏罚分明公允性、你的驭下和向上管理…都是你让团队有凝聚力和执行力的重要元素，等你哪天可以说出“带团队好辛苦，真不如以前闷头做任务来的轻松”，这时你可能已经准备好接受挑战了。</p>
</li>
<li><p>业务思维。程序员崇尚技术第一本无可厚非，但很多人把业务能力放到了技能鄙视链中，就着实走偏了。我问过不少这个阶段的架构师未来的职业规划，他们的回答无一例外，还是想专心钻研技术。当我再问你现在在钻哪一块时，回答高并发的有，网络协议的有，开源框架源码的有，算法的也有…但也仅限于有，真正钻研深入进去的凤毛麟角，现在的你有点浮躁哦，其实你得承认，你已经耐不住寂寞啃技术大部头了，你对很多知识也不过是浅尝辄止，给自己营造一个未来还要搞技术的空中楼阁，不过是自己骗自己。老老实实把业务短板补齐，架构从来不能够脱离业务，再好的技术也是为业务服务的，不要本末倒置。</p>
</li>
<li><p>组织思维。这里的“组织”是名词，是说要从整个组织的视角来考虑事情。当一个任务来临的时候，你有能力把它以不同团队的职能范围来拆解。比如你是后端研发团队，你的思维视角不应该仅仅是完成编码，还应该有测试、运维和产品等一切影响组织交付的因素。这个其实是老板的视角，当你学会从老板的角度思考，你就有了一定的组织化的思维，当你设定的目标与老板基本一致，你的路会越走越宽。大局观并没有那么容易形成，凡事从自己的角度思考是一种人性的自我保护和利益驱使，你要做的可能就是把自己融入到这个组织，比如当成家，不妨一试。</p>
</li>
</ol>
<p><strong>找回好奇心。</strong></p>
<p>人的锐气和冲劲容易被时间所消磨，但磨掉的应该只是稚嫩和毛躁，你的好奇心应如同儿时，请务必保持新鲜。</p>
<p>当你一次次的期望用新技术、新框架、新版本、新特性来一展宏图而被泼冷水的时候，我希望你能仍能坚持你的初心。任何一个组织的终极目标一定是赚钱，你的任何技术追求都会受制于这一点，除非你的新技术可以带来更大的利润，否则不要大动干戈，可以把这些新技术小范围落地试水，没有人会刻意打压你的热情，这种无奈你要学会去理解。</p>
<p>当你一次次的新奇想法被HOLD住，不要激烈反抗和吐槽团队的无能。这个世界毕竟还是由“大多数”人组成，你的新奇想法需要验证，不要犹豫，请把它转换成原型、DEMO来佐证你的想法，否则你的想法永远只是想法，你的新奇也仅仅是新奇。也许大多数人还无法领悟你的先进，他们需要的只是你的一个更直观的引导。</p>
<p>当你在某个技术或者业务领域有足够的累积，你的知识体系其实也在折旧。当团队有新的思想、新的技术碰撞出来的时候，请保持聆听和好奇。先尝试理解这种新鲜，切不可用你略显陈旧的知识体系居高临下的批判，不敢接受新事物是你要老去的信号，而好奇是让你保持进步的绝佳佐料。</p>
<p>洋洋洒洒废话写了不少，其实我就提到了自知、谦卑、思维和好奇四个点，我也懒于找寻他们的内在关系，至少我或者我看到一些朋友曾经在这些上面吃过亏，如此应该足够了吧？</p>
<p>恕不一一，</p>
<p>成天瞎操心的曲大爷<br>2019/12/2<br><img src="https://imgkr.cn-bj.ufileos.com/04aaeb31-ddcc-4e67-92f9-89325a7946d2.png"></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-09-01T10:30:03.000Z" title="2019-09-01T10:30:03.000Z">2019-09-01</time></span><span class="level-item">Updated&nbsp;<time dateTime="2020-04-30T09:37:30.412Z" title="2020-04-30T09:37:30.412Z">2020-04-30</time></span><span class="level-item">an hour read (About 8191 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/09/01/daye-1024-rules/">DàYé首席路 | 10.24条程序员生存法则</a></h1><div class="content"><p><code>笔者曲健，1024生人，天选程序员，浆糊人送外号“大爷Dà Yé”，目前在奥琪科技担任首席架构师一职。</code></p>
<blockquote>
<p>彼得德鲁克的经典之作《卓有成效的管理者》里提到，知识管理者必须学会自我驱动、自我管理，而动力取决于工作是否卓越有效，是否有所成就。程序员就是典型的知识工作者，本文就是细数一下程序员的生存之道，或者说自驱之道。</p>
</blockquote>
<h2 id="00-优雅的命名"><a href="#00-优雅的命名" class="headerlink" title="00 优雅的命名"></a><strong>00 优雅的命名</strong></h2><p>程序员生存法则Number One, 无出其右者，且不接受挑战。</p>
<p>务必记住，程序员的第一武装不是格子衫不是脱发，是代码! 如果把代码比喻成人体，那么逻辑(指令)是经脉，数据是气血，而命名就是穴位。</p>
<p>大家想想在阅读代码的时候，不管是变量名、方法名、类名还是系统名，都是用于辅助理解逻辑/功能的特别重要的标识。我可以负责任的说：<strong>程序员命名能力的高度基本决定了他/她未来的高度</strong>。命名绝不仅是名字本身，它更可映射出作者的思维框架、知识外延、逻辑推理、语言能力、创造力、想象力等等，所以是不是瞬间拔高了？</p>
<p>可以参见我之前关于取名技巧的一篇文章《<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzA5ODA5Mzk3MA==&mid=2647566311&idx=1&sn=220b72244636c06e3d7bd50debb032d9&chksm=88acd91abfdb500cc5e88d2fd7a96ad883eb2ccce28f031bce95d79bbdb2d0541ce599381a59&token=423113030&lang=zh_CN&scene=21#wechat_redirect">IT范儿 | 你是个会取名儿的人么？</a>》</p>
<p><strong>DàYé啰嗦</strong></p>
<p><strong>#</strong> 长点心好好补补英文，程序员阅读各种英文文档需要词汇量自不必说，如果你每次命名都需要翻译软件，不自知的取最生僻的那层含义，或者各种拼写错误，往大了说特别容易引入BUG，往小了说实在丢人丢份。</p>
<p><strong>#</strong> 同一代码块/层级/工程中一定不要出现过于相似的名字。由于相似导致写逻辑的时候把自己整乱的大有人在！每每评审看到这种代码吾必痛心疾首。</p>
<blockquote>
<p>userVo, userDTO, userBo, userPo… <br>userAddedList, userAddedLists…<br>getUsers(), usersQuery(), getUserList()…</p>
</blockquote>
<p><strong>#</strong> 切不可文不对题，切不可“百转千回”。何意？比如说判断一个人是否是注册会员，变量名被定义成了 notRegisteredUser，大家想想在写各种if条件组合的逻辑判断时会有多酸爽。</p>
<p><strong>01 想清楚再动手</strong></p>
<p>我经常跟团队的人强调慢动手脑先行，可惜能领悟到精髓的人真心不多，其余的通常会以项目进度为由，将“先码起来”列为第一要务，殊不知灾难就是这么悄然来临。</p>
<p><strong>书法看筋骨，代码亦如此。</strong></p>
<p><img src="https://imgkr.cn-bj.ufileos.com/c5950aeb-fab6-4f45-b031-bbadfe349510.png"></p>
<p>代码的“筋骨”无非就是分层、结构、逻辑、抽象、封装、模式…曾经大行其道逢人必谈，到现在感觉都没什么人提起了的GoF 23种设计模式，其实就提供了23种“筋骨”范例，大家依葫芦画瓢就行。</p>
<p>代码没有编译成机器码之前，都是给人读的。业界戏称的衡量代码好坏的指标就是“<strong>阅读该代码时说脏话的次数</strong>”，我们骂的通常就是代码“筋骨”。</p>
<p>要“<strong>想清楚</strong>”就是想办法<strong>练好“筋骨”</strong>。TDD测试驱动模型的话，考虑应该怎么设计逻辑控制？DDD领域建模的话，考虑应该怎么建立领域实体？BDD老板驱动的话，考虑迅速翻翻老板以前写过的代码、说过的话、下过的KPI，当然这是玩笑。</p>
<p>曾有多少次，我们怀着一颗要求完美的心，骂着前人写的狗屎一样的旧代码，不得不妥协着项目压力，不断降低着那条曾经的标准，敲出自我放逐的同样狗屎一样的新代码，附上那句可能永远无法兑现的“以后重构”的承诺，最终进入一个不断偿还他人和自己技术债的死循环里…</p>
<p><strong>DàYé啰嗦</strong></p>
<p>经典的《Java编程规范》里开篇总则里的“第一次就做对”，听起来轻飘飘的一句话，背后深意满满。带脑子有思考的编码，想第一次能做对都不是那么容易，别说没动脑的了。这里罗列一些身边实际发生过的错误行为模式，供君一品：</p>
<p><strong>#</strong> “初期没多少数据量的，我循环着一条一条Insert没什么问题，等哪天数据量大了，我再考虑批量插入吧！” 请问批量插入很难么？还需要以后？</p>
<p>**# **“这个代码是我从另一个项目里拷贝过来的，他那边运行的一直没有什么问题。” 然后某一天出现了内存泄漏，因为两个项目的流量完全不对等，不求甚解不动脑，搬砖型码农这里体现的淋漓尽致。</p>
<p>**# **“为了测试环境方便联调，易于排障，我每个关键点都打印了Info日志。” 实际上打印的都是无脑的不携带任何参数线索的trans begin/trans end类日志，在分布式日志平台里看到的各种无法上下串联的孤岛日志，我常常边心疼着磁盘存储和索引计算成本，边碎碎念着这些系统真的可以做好线上运维排障么？</p>
<p>**# **“某些逻辑点我hardcode了一些代码，用来触发某些特殊逻辑分支方便测试，等上线的时候这些我都会删掉。” 等真的上线了，这些hardcode被带上去的不在少数。</p>
<p>**# **“系统有兜底的全局异常拦截器，就算有些异常没catch, 最终也会被拦截器包装成标准报文返给前端的，所以有些类似空指针异常我就无视掉了。” 结果就是APP用户不胜其烦的看到各种“系统未知异常”的弹窗。</p>
<p>**# **“Service层就是简单的数据库CRUD，Business层这么多业务逻辑，保证数据一致那就让事务的边界扩大一些，直接把事务管理放到Business层不就完事了。” 结果就是事务里面包裹了各种耗时数据IO、逻辑计算甚至更耗时的RPC调用，导致事务整个被拉长，资源被锁住的时间也加长，最后就是各种阻塞直至雪崩。</p>
<h2 id="02-动手能力"><a href="#02-动手能力" class="headerlink" title="02 动手能力"></a><strong>02 动手能力</strong></h2><p><strong>东北大兄弟说：能动手就别BB。</strong></p>
<p><img src="https://imgkr.cn-bj.ufileos.com/a17cf816-8365-46ad-bbd4-d63f887b7ab4.png"></p>
<p>程序员的基本工作除了前面说的动脑，紧接着就是动手了。这里需要做一下澄清：基础的编码仅仅是动手能力的一部分，而真正的动手能力远不仅于此。</p>
<p>身为一个程序员，可以搭建一个完整的网站，可以开发一个桌面效率工具，可以编写一个Excel的VBA脚本，可以根据官方文档部署和定制开源系统，可以根据API实现自动化偷懒…</p>
<p>以上才是我想说的动手能力。</p>
<p>大家都知道人和动物的区别是“使用工具”，而程序员群体是更加需要善用工具、甚至创造工具的一类人。当然不要本末倒置，使用工具不是目的只是手段，是为了提高效率、保证质量、降低成本等的手段。</p>
<p>那么最牛逼的工具是什么唻？</p>
<blockquote>
<p>Quora有个回复很带感：“A web browser, with Google as its default opening page.” 一个默认打开首页是Google的浏览器。</p>
<p>隐晦的表达了我们程序员很多时候是面向搜索引擎编程的尴尬…</p>
<p>程序员应该跪谢这位大神，Larry Tesler, 就是他发明了Copy&amp;Paste。</p>
<p>这是如此伟大的一项发明，如此的基础和常用，以至于大家好像都忽视了它的巨大能量。</p>
</blockquote>
<p><strong>DàYé啰嗦</strong></p>
<p><strong>#</strong> “代码的搬运(Copy&amp;Paste)”绝对不是动手能力，“搜索”却是。因为优秀的程序员必然善用搜索引擎、具备良好的搜索技能。</p>
<p>参见我之前的一篇推文《<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzA5ODA5Mzk3MA==&mid=2647566033&idx=1&sn=1d7239f748a4fd836cf6a5c8330cbab5&chksm=88acd82cbfdb513a1b85e3528b2e26c0613920f6084d736908174f28d51394321022ccc4a44b&token=1424033749&lang=zh_CN&scene=21#wechat_redirect">技术人如何高效搜索</a>》</p>
<p><strong>#</strong> 承认Copy&amp;Paste是个伟大的发明，但是我还是建议能不用就不用，能手敲就手敲，除非是严重影响工作效率不得不C&amp;P。历史上由复制黏贴引起的BUG还小么?</p>
<p><strong>#</strong> 熟练IDE、操作系统、常用软件的一些快捷键。不使用快捷键，就和手机不用手势一样。先不说了，WIN+L锁屏，泡个程序员红茶去。</p>
<h2 id="03-提问的艺术"><a href="#03-提问的艺术" class="headerlink" title="03 提问的艺术"></a><strong>03 提问的艺术</strong></h2><p><img src="https://imgkr.cn-bj.ufileos.com/010b7f76-56ac-4b67-9eff-81c213ae7d2f.png"></p>
<p>程序员骨子里的孤傲时常会把自己定位成一个问题终结者，提问题似乎与此格格不入。我到现在都没太想明白这种孤傲源自于哪里，也可能是知识工作者特有的清高。其实吧，大家日不离手的搜索引擎，不就是一种另类的提问么？</p>
<p><strong>卜学良 子曰</strong></p>
<blockquote>
<p>亮子的中心思想是个Why，Why的表现是，搞不懂就问人，搞得懂就答人，没有人懂还可以问神…要懂得推理要心存怀疑，要充满好奇要巨细靡遗，要打破砂锅问到底。</p>
<p>Come on everybody!</p>
</blockquote>
<p>全套流程建议的第一步是先把自己的问题明确化，并耗费一定的精力去研究琢磨，直到卡滞；第二步是不耻上问/不耻下问, 敢于开口去提问，不要怕丢人，面子相对于知识不值一提；第三步将自己的问题、自己研究的发现等等一并列出，给解答者一个完整的上下文和尽可能多的线索，以节省双方的大量时间；第四步，不管最终是否解决，可以基于解答者给出的方案或者方向，自己在想其他办法去深挖，补齐自己的只是短板。That’s it.</p>
<blockquote>
<p>心理专家亚瑟·阿伦有个著名的让陌生人快速熟悉的“<strong>36问</strong>”，就是好问题的模板，节选几个：</p>
<p>1、如果可以跟世上任何人共进晚餐，你会选择谁？<br>2、你会想出名吗？以什么样方式出名呢？<br>3、在打一通电话之前，你会先排演要在电话中说什么吗？为什么？<br>4、你心中最完美的一天是做哪些事呢？<br>5、你上一次唱歌给自己听是什么时候？上一次唱给别人听又是何时？<br>12、如果你明早一觉醒来发现自己获得了某种能力，你希望是什么能力？<br>30、你上一次在别人面前哭是什么时候？上一次自己哭是什么时候？<br>36、 说一个个人问题并询问对方的处理意见，让对方向你反馈，你对这个问题所表现出的态度。</p>
</blockquote>
<p><strong>DàYé啰嗦</strong></p>
<p>以下的反面教材大家耳熟能详：</p>
<p><strong>#</strong> 以他的能力和水平完全可以帮我解答这个问题，为什么他不肯帮我？</p>
<p>帮你是情分，不帮是本分，没有什么理所应当。程序员群体大部分时候是和谐互助的，当然前提是你的问题问到点上、足够清楚、有挑战、礼数到位或者红包打头阵，否则参见下面的细分场景。</p>
<p><strong>#</strong> “大神救命啊，我用这个框架老是启动不起来。我可是严格按照手册一步一步来的！” </p>
<p>然后就没有然后了。你的详细线索呢，你怎么排障的呢，你有初步的怀疑对象么？这种卖惨式发问只会给人一种感觉：你自己压根没分析过！我的时间可不是浪费来解决你分内事情的。</p>
<p>**#**“字符集是UTF8的Mysql5可以存储emoji表情么？”</p>
<p>这种简单的问题要不自己去试，要不去搜，顺便把这块相关的知识点都去阅读一下。你指望某个人给你个答复的同时，还能把整个知识点给你解释一番？</p>
<p><strong>#</strong> 劈头盖脸的一堆问题怼出来，没有停顿、没有组织、没有循序渐进。</p>
<p>散弹枪式的发问极容易引起他人的反感，因为你把别人当成了答题人，而不是有来有往的虚心求教。适度且有节奏的发问才是王道。</p>
<p><strong>#</strong> 发问前礼貌性的确认对方是否有时间帮忙，发问后不管是否解决都要表示感谢，礼数一定要到位。不要整成一次性买卖，毕竟因为一次不礼貌导致未来可能再难得到帮助，得不偿失。</p>
<p><strong>#</strong> 有些人眼花缭乱的问题描述完全不在点子上，解答人若善于引导和抽丝剥茧，能从源头上帮忙解决，若只是纯粹的一问一答，那答案可能压根帮不上忙，因为问题本身的方向就错了。这种体现逻辑洞察能力或者沟通能力，下面会提到，要做到“直抒胸臆”不简单。类似的场景在程序员和产品经理之间也时常发生，聊的牛头不对马嘴，双方都找不到中间的那个契合点，冲突也就难免。</p>
<h2 id="04-逻辑推理"><a href="#04-逻辑推理" class="headerlink" title="04 逻辑推理"></a><strong>04 逻辑推理</strong></h2><p><img src="https://imgkr.cn-bj.ufileos.com/29396cc0-d694-4c1e-a4ba-10f6708e3cbb.png"></p>
<p>程序员日常编码80%的工作除了想变量的命名，就是在写逻辑分支。而日常非编码80%的工作就是理解需求或设计架构，都需较要强的逻辑思维。</p>
<blockquote>
<p><strong>先玩个游戏：估算下中国有多少程序员(不严格定义边界)？</strong></p>
<p><a target="_blank" rel="noopener" href="https://octoverse.github.com/">https://octoverse.github.com</a></p>
<p>基于GitHub的2018年度数据报告，目前一共3100万注册用户，20%美国本土用户，中国是仅次于美国的GitHub大户，打个八折，算出中国注册用户500万(无视不同程度的水分)。</p>
<p><a target="_blank" rel="noopener" href="https://www.idc.com/getdoc.jsp?containerId=US44363318">https://www.idc.com/getdoc.jsp?containerId=US44363318</a></p>
<p>再按照IDC估算的全世界2200万左右软件工程师，按比例折算下中国码农群体 500万/1.4≈350万。</p>
<p>本人宣称对中国码农群体<strong>350万</strong>这个虚数负责到2019年年底。</p>
<p>参考链接：<br>世界人口(77亿)：<a target="_blank" rel="noopener" href="https://www.worldometers.info/cn/">https://www.worldometers.info/cn/</a><br>中国人数(13亿，就业人数7.7亿)：<br><a target="_blank" rel="noopener" href="https://www.ceicdata.com/zh-hans/country/china">https://www.ceicdata.com/zh-hans/country/china</a></p>
</blockquote>
<p>以上是个典型的考察逻辑推理能力的小例子。《超级思维》这本书里面有更多奇奇怪怪的逻辑题目，都是让你感觉无从下手的。</p>
<p>其实，在拿到一个即使简单如APP登录的需求时，作为知识工作者的程序员就也需要展现出自身强大的逻辑推演能力，抽丝剥茧，将需求抽象为领域模型或者转化为系统设计。这方面有大量的方法论，比如奥卡姆剃刀，比如WBS，都不重要。重要的是你一定要沉心静气，不能是闷头苍蝇似的一通乱撞。要找到最适合自己、最适用当下的那个方法。是砍掉枝叶先看主干，还是抽丝剥茧层层拆解，都是逻辑推理的一种体现罢了。</p>
<p><strong>DàYé啰嗦</strong></p>
<p>APP登录过程究竟发生了什么，或者应该发生什么，是我面试时经常用来考察一个人逻辑思维能力的题目。除了是人都知道的用户名密码校验还有什么呢？</p>
<p><strong>#</strong>  用户名的长度区间是什么？</p>
<p><strong>#</strong> 用户名支持的字符集是什么？存储会乱码么？</p>
<p><strong>#</strong> 密码的长度区间是什么？字符组合是什么？</p>
<p><strong>#</strong> 密码的加密方式是什么？如何确保传输通道不会被中间人劫持？</p>
<p><strong>#</strong> 用户名/密码是否含有非法字符(代码注入)、政治敏感、低俗不雅的文字？</p>
<p><strong>#</strong> 密码最多可以输错多少次？超过后账户禁用多久？</p>
<p><strong>#</strong> 是否支持用户多终端登陆？如果支持的话，账户在A终端被禁用后，在B终端的已登入态是否被踢出？</p>
<p><strong>#</strong> 用户在终端的登录有效时长如何考虑的？</p>
<p><strong>#</strong> 登录的错误提示有很多种，用户名不存在、密码错误、账户禁用，还有哪些？</p>
<p>还有很多没展开，如手机号/邮箱绑定，短信/邮件验证码验证，常用设备管理等等，可以继续推演下去，但是如果能在面试的压力环境下，有条不紊的罗列出用户名、密码、安全、状态、话术、用户体验面等等这些维度上的思考，那基本上没毛病。真实情况是不少人在这些维度上跳来跳去，没有条理性、延续性，想到哪儿是哪儿，只能说明逻辑推理上有所欠缺。</p>
<h2 id="05-时间规划-要事优先"><a href="#05-时间规划-要事优先" class="headerlink" title="05 时间规划, 要事优先"></a><strong>05 时间规划, 要事优先</strong></h2><p>我们身边不乏这种人：每日忙忙活活，勤勤恳恳，乐于助人，看起来是公司里最敬业爱岗的那个。实情却是大量任务一旦堆积到他手里就失去了进度，甚至因为同时赶很多任务，导致高优先级任务的质量不达标。这类人的典型问题就是做不好时间规划，分不清轻重缓急。</p>
<p>爱因斯坦老头的相对论告诉我们，时间是相对的。同样的每天8小时，有序、有效和高效的使用了这8小时的产出，可以比无序、无效和低效的产出高出2倍不止。核心点是什么呢？</p>
<p><strong>DàYé啰嗦</strong></p>
<p><strong>#</strong> 让时间的<strong>无效</strong>流逝产生<strong>罪恶感</strong></p>
<p>理解前先举个栗子。小时候暑假的前半段基本都是瞎玩，最后一周疯狂的写作业，连吃饭都觉得在浪费时间，如果吃饭的时候还在看电视，那时的罪恶感爆棚，时刻觉得我的作业还在等着我…所以明白了么，产生罪恶感的前提是我的任务是有优先级的，加上自己的责任感，一旦高优先级任务阻滞了，而我还在浪费时间在某个无意义的事务上，就会及时叫醒自己，阻止自己的继续浪费。</p>
<p><strong>#</strong> 好记性不如烂笔头</p>
<p>曾几何时公司里的笔记本还是用来记事的，现在好像成了用来涂鸦的了。一般开会我都会要求大家都带笔记本，无他，我就是不信你的脑子记得住会议上的所有要点或者决议；而日常项目中有些重要的事项或者节点也都应该记录下来，项目上线前翻一翻确认自己没有遗漏；等等。当然上面说的这些你可能有其他的工具来实现，殊途同归罢了。</p>
<p><strong>#</strong> 请学会拒绝</p>
<p>烂好人这种事情在职场基本是行不通的。因为你好，你的事情就会多而杂；因为你好，你的事情就都是高优先级；因为你好，流程规范就容易违反；因为你好，时间一长就成了理所当然，这事将永远粘着你；因为你好，任务积压到你手里，任务最终延期交付，你得背锅；因为你好，你就再也拒绝不了别人了，因为“雷锋”是不会也不该拒绝他人，会一直被道德绑架在十字架上。</p>
<h2 id="06-心向自由-遵纪守法"><a href="#06-心向自由-遵纪守法" class="headerlink" title="06 心向自由, 遵纪守法"></a><strong>06 心向自由, 遵纪守法</strong></h2><blockquote>
<p><strong>人是生而自由的，却无往不在枷锁之中。</strong></p>
<p>– 卢梭 《社会契约论》</p>
</blockquote>
<p><img src="https://imgkr.cn-bj.ufileos.com/080378d8-29b1-4b3f-b319-f6d492c35666.png"></p>
<p>人生而自由，清高的程序员更加的心向自由。不喜欢西装革履，不喜欢一板一眼，不喜欢上班打卡，不喜欢规章制度…</p>
<p>每家公司都制定了各种各样的制度、规范、流程，这些东西经常被视为洪水猛兽，枷锁镣铐。只有不成熟的人才会把自由放在嘴边，成熟的人怎么会不知道</p>
<p><strong>自由是要付出代价的！</strong></p>
<ul>
<li><p>上班时间是自由弹性的，结果可能是开敏捷站会的时候少一个人更新进度，因为你没来，这个代价谁来支付？</p>
</li>
<li><p>生产上线可以随意发挥，上挂了再上一次呗。如果一个面向C端用户的产品，你确定要让用户承担无法使用、公司承担损失用户的代价么？</p>
</li>
<li><p>数据权限是自由的，这样查数据方便多了，谁来承担数据被导出打包卖的代价？</p>
</li>
<li><p>开发私接需求，不走那套评审、设计和进入迭代的繁琐流程，测试不知道这块的回归内容，上线后出问题才发现，这个代价谁承担？</p>
</li>
</ul>
<p><strong>选择了自由，必须承担代价，也同时选择了责任</strong>。没有责任的自由只是小孩子过家家。所以在感觉自已被约束了之前，先扪心自问，自己是否有能力消解跳出框架的风险，是否有担当承担自由之后的代价。</p>
<h2 id="07-羞耻心"><a href="#07-羞耻心" class="headerlink" title="07 羞耻心"></a><strong>07 羞耻心</strong></h2><p><img src="https://imgkr.cn-bj.ufileos.com/50b9f75e-a828-4e20-8c91-d8673141bb15.png"></p>
<p>有羞耻心的程序员才有资格清高，因为羞耻心是你的底气。一个成天写一堆低级bug毫无羞耻的程序员凭什么清高？自己首先会耻于不完美，做到无可挑剔，当然可以清高。</p>
<p>剖开羞耻的表层，本质其实是程序员对于自身的高要求。程序员对自己没有要求，和咸鱼有什么分别。这里还没要求程序员主动去提升自己这个层面，就是靠错误的羞耻感驱动自己提升这一层，很多人做的都不够好。出现BUG无所谓，上线失败问题不大，这是自我放逐到了如何野蛮的地步了？</p>
<p><strong>DàYé啰嗦</strong></p>
<p>现在的互联网应用相对企业应用，可以更快更轻更容错，给年轻人一种错觉好像出点错没什么大不了的，也导致现在的年轻程序员对于BUG, 对于生产环境没有太多的<strong>敬畏心</strong>。</p>
<p>而从做企业应用那个年代出来的程序员，对于这些都是谨小慎微，一点点小错都了不得，感觉要死了，这或多或少与不同时代的程序员文化有关。</p>
<p><strong>#</strong> 只要是BUG就是丢人的，不是拿来自黑和一笑而过的。</p>
<p><strong>#</strong> 代码被评审出一堆意见来是丢人的，重复犯错更丢人。</p>
<p><strong>#</strong> 系统上线漏了个配置是丢人的，就算你前面的开发测试再完美，最后临门一脚没做好，前功尽弃不羞耻？</p>
<p><strong>#</strong> 系统上线后的问题都是客户报障的，自己的监控不到位，告警处理不到位，永远是落后客户一步，自己的系统自己HOLD不住，羞耻么？</p>
<p><strong>#</strong> DaYe自己对于有些异常如NPE、越界、类型转换，一旦抛出来会觉得特别羞耻，会捶胸顿足为何写这部分代码的时候没有考虑清楚。你会么？</p>
<h2 id="08-同理心"><a href="#08-同理心" class="headerlink" title="08 同理心"></a><strong>08 同理心</strong></h2><p><img src="https://imgkr.cn-bj.ufileos.com/52e48972-bf18-4e4f-8332-31df642ae5be.png"></p>
<p>同理心Empathy，简单来说就是换位思考，懂得倾听，设身处地的共情共感。也是情商EQ理论里的专有名词。我觉得程序员在同理心方面做的奇差，也是程序员画像“智商高情商低”的口实之一。</p>
<p>程序员思维特别擅长把任何交流转换成技术语言来表述，程序员说的口沫横飞，其他人一脸懵逼。不会说“人”话这一点，一直是程序员的硬伤，缘由大概是大部分时间跟电脑打交道，导致的<strong>达尔文式退化</strong>吧。</p>
<p>程序员会说“人”话，境界必然升华。因为你若能把程序思维包装成一种非技术人也能听懂的语言，说明你已经脱离了程序员固有的思维框架，可以对等的用对方的语言来直接交流。就像我们在英语对话中，过程是对方的英语通过耳朵进入脑中，先转换成中文，然后想好中文的回答，再翻译成英文，最后用嘴说出来。都知道这是不对的，但碍于英文水平渣渣，臣妾确实办不到屏蔽中文切换环节，直接英文输入输出这种最优秀的交流方式。</p>
<p>当程序员开始用技术来碾压或者嘲笑对方的无知，这时候的交流一定会出现争执和冲突。要求我们立马停顿且站在对方的立场想事情，确实有点强人所难，但是我们可以从一个第三方不相干的人的立场来看这次交流，尽量保证客观，可能会发现另一种思路。</p>
<p>特别程序员在面对BUG和线上故障时的第一反应，通常也不是站在对方立场，而是下意识的抗拒。前线一线商务人员密切关心故障进度，一定会时不时的催促，而程序员思维这时经常会丢出来的一句话是“<strong>在处理呢，别催</strong>”，如果站在对方的角度来表述“我们已经找到问题的症结了，还需要大约一刻钟的时间，走个紧急审批流程，已在着手修复了，请再耐心等待一下”，将我们的努力过程表达出来，再给一个可期的未来时点，会好一些么？</p>
<h2 id="09-近距离榜样的力量"><a href="#09-近距离榜样的力量" class="headerlink" title="09 近距离榜样的力量"></a><strong>09 近距离榜样的力量</strong></h2><p>有人说“我的偶像是Linus Benedict Torvalds”，这个事情对你当前的职场可能并无太多益处。因为Linus人家底子硬，可以怼天怼地怼上帝，而大部分愚钝的我们还差得远…</p>
<p>所以我标题里的重点是“近距离”和“榜样”。也就是在你当前职场环境下，离你最近的最容易效仿和咨询的那个榜样型人才，才是你需要当下尽全力追逐的。</p>
<p>比如自己的代码在最近几次评审里老是被提出很多评审意见，<strong>傻的程序员</strong>没感觉怎么样，每次提多少改多少，下次可能还犯；<strong>聪明的程序员</strong>会每次做好总结，保证下次不会再犯；而<strong>智慧的程序员</strong>，会直接找评审人聊聊他心目中的好代码的标准，找公司的代码规范checklist，翻阅有优秀编程能力同事的代码，反复的学习和实践，主动推动自己往下一个Level演进。</p>
<p>不管是技术、业务、产品还是管理，除非你一骑绝尘，公司范围内在你视野里已经Nobody了，否则每个维度都会有自己可以对标的对象，务必虚心求教，刻苦训练。</p>
<p>我不知道程序员是不是很容易看不上公司内部的一些分享课程，经常因故缺席。然而在收集想听什么课程的时候，又说分享少，最好请外面的一些大神来讲讲课啥的。我一直断言，有这种想法的程序员就不是为了知识，而只是为了有个接触所谓大神的机会，甚至最后能加个好友就有吹嘘资本了。且不说有些所谓的大神很水，就是真正的大神讲的那些干货，你先确定自己能接得住么？根基不稳、眼高手低，所以别怪DaYe啰嗦，先找近前看得见摸得着的对象，试试超过他看看？</p>
<h2 id="10-24-拥抱开源"><a href="#10-24-拥抱开源" class="headerlink" title="10.24 拥抱开源"></a><strong>10.24 拥抱开源</strong></h2><p>现而今很多国际顶级的开源技术都是国人搞出来的，不仅让世界看到了国人的技术能力，也让国内的信息化水平有了质的飞越。</p>
<p>开源这个大宝藏用不好，就是可耻的浪费。我经常提醒团队在造轮子之前可以先去开源社区，找找灵感找找思路，千万别一头扎进去，写出来一个残次品没人愿意用。</p>
<p>反过来，开源对于程序员还是比较神圣的一种认可，所以我也会推动团队做一些开源方向的努力。当团队在开发一个内部系统，被安上一个开源的KPI之后，大家的专注力和自我要求都会加强N个档位，毕竟谁也不想开源一个让人嗤之以鼻的软件，执行力、羞耻心和荣誉感会无限爆棚。</p>
<p>以上，是我心目中程序员安身立命的几条黄金法则。有人可能会说，扯了那么多，竟没提程序员的基本功，其实基本功就藏在这10.24条里了，自己去发现吧。</p>
<p><strong>THE END</strong></p>
<p><img src="https://imgkr.cn-bj.ufileos.com/04aaeb31-ddcc-4e67-92f9-89325a7946d2.png"></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-05-07T08:53:41.000Z" title="2019-05-07T08:53:41.000Z">2019-05-07</time></span><span class="level-item">Updated&nbsp;<time dateTime="2020-04-30T09:43:25.777Z" title="2020-04-30T09:43:25.777Z">2020-04-30</time></span><span class="level-item">an hour read (About 7280 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/05/07/daye-csa-fake-way/">DàYé首席路 | 模仿之道</a></h1><div class="content"><p><img src="https://imgkr.cn-bj.ufileos.com/a663c3a3-961b-48a1-beaf-1e989cd8bc53.png"></p>
<p><code>笔者曲健，1024生人，天选程序员，浆糊人送外号“大爷Dà Yé”，目前在奥琪科技担任首席架构师一职。</code></p>
<blockquote>
<p><em>二零一八留不住，朱颜辞镜花辞树。</em></p>
<p>鄙人平素喜偶厌奇，以致现在对2019仍避之不及、兴致索然，更羞愧的是原本想对2018之前人生做的总结也憋到现在…</p>
<p>人这一生，有人从上半场甚至一开场已策马扬鞭绝尘而去，而有人混沌半生却依然摸索不到那道门。不才无甚特长唯虚活三十余载，终究有些人生阅历(通俗点叫失败经验)可与君分享一二。今儿咱们就说道说道<strong>“模仿”</strong>这件事。</p>
</blockquote>
<h3 id="谨”守”模仿天性"><a href="#谨”守”模仿天性" class="headerlink" title="# 谨”守”模仿天性"></a># <strong>谨”守”模仿天性</strong></h3><p>模仿是人类默认出厂设定能力之一，生而为人，始于<strong>“模仿”</strong>。父母的语言语态、行为举止都会成为孩子的模仿对象。孩童会因模仿到大人的一招半式而洋洋自得，成人却因“行与他人雷同之事”顿感不自在甚至羞耻，根源上还是把模仿对标成了另一个概念：</p>
<p><strong>山寨！</strong></p>
<p>山寨更多的是一种抄袭甚至剽窃，与作为有效学习手段的模仿不可同日而语。</p>
<p>这段充满刚正之气的名言论述是讲课用的。实情却是，模仿的第一步往往就靠无脑复制，严重点说就是抄袭。</p>
<p>如同没人会说孩童“山寨”成人，毕竟如此就有降维打击的嫌疑。在成人的世界里，很少有人会承认自己在低维空间，本就同维，我模仿你岂不掉价？更可悲的是一旦开始模仿，就很难不被人扣上山寨的帽子。</p>
<p>日货曾几何时是“质量过硬”产品的代名词，殊不知日本就是抄袭鼻祖。始自隋唐时代，日本已经开始大面积抄袭中国文化，一如茶道、剑道、花道等日本八道都是汲取中国文化后形成的自己特有的道，这些大家基本都知道的且抛开不谈。就说近代，二战后的日本经济萧条，百废待兴，为了重振经济，山寨成了日本选择的一条捷径。巧克力、漫画、家电、相机以及汽车等等，日本全部山寨过。而日货有如今的地位，与其后续一系列的改革创新、科技教育等手段是分不开的。</p>
<p><em>有兴趣可以搜索一下日本CopyCat视频，看完你会发现国内的那些极品山寨康帅博、大个核桃、农民山泉、粤利粤…大家山寨水平都不过尔尔。</em></p>
<p><img src="https://imgkr.cn-bj.ufileos.com/70c858f7-501d-40db-902c-e8145bade166.png"></p>
<p>而德国曾经也好不到哪去。1887年，德国制造”Made in Germany”耻辱性的进入了英国的商标法条款，被英国人用来区分“英国制造”的优品和”德国制造”的劣品。那时候的德国也是各种仿制和山寨,不过也仅仅过去十几年，德国人就把”德国制造”这顶代表耻辱的帽子摇身变成了金字招牌的代名词至今。您看，随便掀个底儿，抄袭黑历史俯拾皆是，谁也就别笑话谁了。</p>
<p><strong>DàYé自述：</strong></p>
<p>职业生涯冷启动菜鸟期通常会伴随着各种不期而遇的迷茫。当你这也不会那也不会，这也想学那也想学的时候，迷茫、无助或者焦虑就随之而来。还好黑夜给了我黑色的眼睛，我踏踏实实的用来找寻光明。</p>
<p>最开始使用VB6、PRO*C 编码的我，鬼使神差的选择了JAVA高手、TOP ? 程序员作为模仿对象(<em>当时的我执着地确信Web应用才是未来趋势，也真是眼光毒辣</em>)，列举如下，不一而足：</p>
<p><em>特别说明：下述文字只是对本人当时的模仿行为进行陈述，并不代表它们是正确的，请自行甄别。</em></p>
<p><strong>$</strong> <strong>编程风格</strong>：学习并效仿高手的代码风格。我的代码洁癖就是这段时间养成的，见不得格式乱、忍不了没灵魂。没有注释没有异常处理没有日志没有”断句”一口气写几百上千行的代码，注定是没有灵魂的流水账; </p>
<p><strong>$</strong> <strong>工欲善其事必先利其器</strong>：NetBeans/ JBuilder/ Eclipse/ MyEclipse之间的各种IDE鄙视(那时候还没有Intellij IDEA啥事)，高手用什么自己就用什么，无须纠结高手纠结过的; </p>
<p><strong>$</strong> <strong>理论知识</strong>：购买并阅读高手推崇的一切好书，虽然很多没啃完，但是读书绝对可以加速知识体系的构建进程。现在很多IT培训机构流水线上组装的“速成”产品，就特别容易出现知识残缺、根基不稳，陷入盲目/机械/重复劳动的泥潭，却以为这就是常态的码农形态; </p>
<p><strong>$</strong> <strong>热点趋势</strong>：RSS(上古神器之一)订阅高手推荐的各类源站：技术热点/大神博客/业界资讯…学习成长路绝对不能闷头行进，必须学会抬头看路认清大势;</p>
<p><strong>$</strong> <strong>动手能力</strong>：身为程序员不会搭建网站，不会做GUI小应用，不会 Excel 公式，不会搜索，不会 番羽 土啬 … 比小姐姐让你拆机箱擦个灰都不会还要恶劣。 现在很多程序员应该没见识过以前的企业应用本地环境的搭建、启动、部署和测试，那叫一个繁琐(现在对IBM WebSphere的那套产品仍旧心有余悸)，曾经有些人从入职到离职都不知道这一套环境怎么运作的，安心做一名”流水线工人”。</p>
<p><strong>$</strong> <strong>程序员的高傲</strong>：提交的代码被任何人读起来都应该是优雅的；交付给测试的功能点一定是自己反复验证过的，出现低级BUG丢不起那人；敬畏生产环境，上线脚本/配置/变量/步骤/困难全都罗列的一清二楚，上线失败如同过掉门将面对空门将球打飞，可笑又可耻。</p>
<p><strong>$</strong> <strong>装逼套路</strong>：能用命令行绝不用图形界面，能用快捷键绝不用鼠标，IDE必须黑色主题，桌面墙纸必须个性，案头必备一本英文原版书(就算垫显示器)，<strong>必须**</strong>盲敲数字键**(别笑，我不认为现在程序员有多少可以做得到或者做得6)</p>
<p><img src="https://imgkr.cn-bj.ufileos.com/e4234c13-505f-4b8f-a0a8-ea62fdd96fab.png"></p>
<p><strong><em>Google -&gt; Creative Desktop Wallpapers</em></strong></p>
<p><strong><em>题图：浏览器选项里没有IE, So Chrome Or FireFox？</em></strong></p>
<p>总之，在编程起步的这段模仿路上，从例行工作到三余读书，从照搬仿效到习惯养成，从实际行为(形)到思想境界(神)，其实你会发现这模仿本身也是个成长的过程，只是这路不是你自己摸索的而是踩着前人的脚印。您再看，这个过程缘何我模仿的自得其乐？因为我把自己视作孩童，<strong>放低身段，**</strong>自降一维，**只求成长。</p>
<p><strong>好的模仿必须找到对的对象</strong></p>
<p>通常大部分人选择的模仿对象通常无非是自己的偶像、长辈、老师或者业界权威、KOL等等。有些模仿并不一定具有特别明确的目的性，就像有多少人因为乔丹篮球之神，23成为了自己的幸运号码。除此之外的大部分模仿一定带有某些目的性，所以一旦选错模仿对象，为此承担的成本可能会无比巨大。靠谱的“<strong>选择模仿对象</strong>”的过程应该是这样的：模仿者有能力对自身的基础优劣指标有基本的认知，知晓被模仿者的哪些特质、行为或能力是无害的、有益的、榜样的和相当一段时间内自己想要努力追逐的，双方综合评估后可得Yes Or No。</p>
<blockquote>
<p><strong>榜样 VS 偶像</strong><br><em>就模仿而言，我希望是<strong>榜样</strong>的力量，而不是<strong>偶像</strong>的力量，这两者有本质区别。榜样是你还没达到但是想成为的人(或人的某种特质)，偶像是你想接近但是不想成为的人。马云说过类似的话，”我没有偶像只有榜样”。大家可以品一品其中意味。</em></p>
</blockquote>
<p>爱因斯坦有个经典的“司机”的故事，说爱因斯坦的司机长期陪着他各地演讲，听多了也就倒背如流了，就像灵山上听佛祖讲道瞬间成精的妖怪似的，自告奋勇申请代爱因斯坦去讲一堂课，结果这哥们确实滔滔不绝、有模有样的演讲完全程。最后不巧有个听众问了一个深入的相对论问题，这司机当然答不出来，却还算机敏地一指坐在后排的爱因斯坦说“这个问题很简单，我的司机就可以回答”。这个例子就是典型的对自身、对模仿对象都评估不足，对大部分的我们来说，爱因斯坦都绝对算不上一个对的模仿对象，因为我们穷究几辈子可能也踩不上他老人家几十年前走过的路…</p>
<p><strong>模仿是个刻意练习的过程</strong></p>
<p>刻意练习、一万小时定律我们都耳熟能详。写代码的手感和语感有时就是冥冥之中方可得，没有大量的实战，寄希望于看个视频读个文章就掌握，这种虚妄犹如似近实远的高山，看似咫尺实则天涯。</p>
<p>你还记得第一个 Hello World 带来的那种芥末味直冲脑门的欣喜么？然而写一万个小时的Hello World并不会让你有什么进步，刻意练习不是刻意重复，你必须从大量枯燥无趣的<strong>“有效”</strong>练习中寻求成长，其中的寂寞可以击退众多求进之人。</p>
<p>总结一下，<strong>守</strong>住模仿这个人类本能，无须刻意割裂，在没有找到属于自己的路之前，模仿绝对是条不错的捷径。而标题中的**”谨”**字就是表达谨慎选择模仿对象之意，选对了就是成功捷径，选错了可能就是不归路。进入赛道就必须让自己跑起来并持续坚持。</p>
<h3 id="“破”除复制牢笼"><a href="#“破”除复制牢笼" class="headerlink" title="# “破”除复制牢笼"></a># <strong>“破”除复制牢笼</strong></h3><p>如果把上阶段的“守”比喻成机械复制、没有自我的“<strong>无我</strong>”蛮荒过程，那么“破”就是要找到“<strong>自我</strong>”的文明养成过程：<strong>养成技巧、养成思考、养成创新以及养成习惯等</strong>。除此之外，这个阶段也要找出三个经典人生哲学的答案：</p>
<ul>
<li><p><strong>我是谁？ – 自我认知</strong></p>
</li>
<li><p><strong>我在哪儿？ – 自我定位</strong></p>
</li>
<li><p><strong>我要去哪儿？ – 目标规划</strong></p>
</li>
</ul>
<p><img src="https://imgkr.cn-bj.ufileos.com/2d034a63-c76a-454d-bb41-b57df6795f02.png"></p>
<p><strong>自我认知Self Awareness</strong></p>
<p>自我认知指的是对自己的洞察和理解，包括自我观察和自我评价。好的自我认知，能清楚勾画出自己的性格、优点、弱点、潜能、思想、情绪和动机；做不到就容易成为别人口中的没有自知之明之人，而有些人终其一生确也无法认清自己。</p>
<p>自我认知会随着个人的阅历、思想、环境等不断变化，所以不是要求大家即可就看懂自己(当然也不可能)，而是要掌握这项技能，让自己不断从中受益，所谓吾日三省吾身即是此意。自我认知严重影响着个人的成长、处事方式、情绪管理，比如: 看不到自己的优点就容易自卑，进而做事畏手畏脚；高估自己就容易傲慢，无法听取别人的意见而独断专行；内向型更适合主攻技术性事务，外向型更适合业务性事务，如此等等。</p>
<p>业界有不少可以对个人进行性格测试的方法论，也是一种自我认知的途径(不过更多的场景是Leader对团队，企业对员工的测试）。比如<strong>MBTI职业性格测试，9型/16型人格测试，DISC性格测试，NASA 4D人格测试</strong>…</p>
<p><strong>自我定位Self Positioning</strong> </p>
<p>自我定位相对于自我认知来说，多了一个锚定物。此锚可以是自身或者他人的技能、薪资、岗位、职级、性格甚至背景，以此来分析定位自己所处的位置，是初级能力还是高级能力，是业务开发还是架构开发，是不善言辞还是能说会道…</p>
<p>自我定位和自我认知可视作基本相似的评估行为，只是认知是相对抽象的评估，而定位需要给出相对具体的位置线。</p>
<p><strong>目标规划Goal Planning</strong></p>
<p>在没有认清自我的前提下设定的任何目标都是无源之水无本之木，那么目标一定是因人而异的。那么问题来了，现而今知识共享、知识付费的时代，知识可以是听来的、看来的，大家表面看起来都很上进，购买各种课程学习，目标都是成为懂业务、懂技术、懂产品、懂管理、懂投资的共产主义社会全方位发展的全能型人才，只是，这种快餐路径拿来的知识真的被你吸收了么？你应该持一下怀疑态度…另外，这种“形而上学”得到的知识我把它定义为“<strong>口腹知识</strong>”，就是只能用在聊天打屁时口若悬河滔滔不绝，落地实施时除了懵逼还是懵逼。区别于经过咀嚼消化后被充分吸收的“<strong>心脑知识</strong>”。</p>
<p>回归本文主题，要在模仿学习中找寻自我，必须思考、挑战、辨别、领悟，直到知识技能融入己身，为我所用。</p>
<p><strong>DàYé自述:</strong></p>
<p>当意识到初期的机械式模仿最多也就是把自己变成别人影子的那一刻，我开始思考如何逃离机械式模仿带来的快感舒适区。因为盲目效仿实在不需要付出额外的心力，只须跟紧步伐，不费吹灰之力就可以逼近甚至赶超模仿对象，多可怕的错觉。</p>
<p>为了跳出行为和思维的双盲区，我是如此行之：</p>
<p>$ <strong>个人标签：</strong>所有的模仿行为通过<strong>思考改进，形成个人风格，打上个人标签</strong>。简单如大家都写的注释，我一定是把时间、作者和备注说明用特殊符号拼接的行列分明、整整齐齐、强迫症般的赏心悦目，并没有为此多耗费什么时间却得到了不同的代码阅读体验和个人风格；同样是用IDE, 记住绝大部分的快捷键，引入更高效的插件，能高效辅助你达成目的的手段才能称其为<strong>工具</strong>，否则只能算作<strong>器具</strong>；</p>
<p>  $ <strong>知其然知其所以然</strong>：获得一项技能其实没什么了不起，闻道有先后罢了。技能是否真正掌握的评判标准很简单：<strong>可以把这项技能轻松传授给别人</strong>。别以为这个标准很简单。可以举重若轻把知识讲出来的人，绝对是吃透了背后原理机制的；反之当一个人讲的东西不够深刻浮于表面甚至闪烁其词，那他一定自己都是半吊子。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//等式判断时，先写常量，再写变量的写法很常见。</span></span><br><span class="line"><span class="comment">//到底有何好处呢？还是zhuangbility而已？</span></span><br><span class="line"><span class="keyword">if</span> ( <span class="number">100</span> == score ) &#123;</span><br></pre></td></tr></table></figure>
<p>        return “一等奖学金”;<br>    }</p>
<p>$ <strong>思想边界</strong>：或理解为<strong>视野局限</strong>，一个人是无法想象甚至理解思想边界之外的世界的，这与努力程度无关。当日常工作的80%都是常态脑消耗(重复劳动)，不需要启动全部脑力来思索创新，释放的信号就是你的思想边界将要停止延伸。所谓眼界决定一个人生的高度，而我的高度就是从脱离国企陈旧的体系和氛围，拥抱外企的自由开放文化开始的。</p>
<blockquote>
<p><em>以防有人断章取义，需要解释下。我可没有表达外企就一定比国企高。不管国企到外企，还是外企到国企，都是边界的延伸。实际上，我那个年代，软件业的外企确实比国企整体上要正规和先进不少…</em></p>
</blockquote>
<p>当时的外企对我来说就是最大的变化和可操作的最远边界，语言、文化、管理、种族、趋势、认证、体系等等对我来说都是新鲜的也是极具挑战的。面试外企前一年我是一直跟一位美国退休教师老大爷学口语的，入职第一个月仍旧是听的磕巴说的哑巴。幸好我的任务都有书面化的工作清单(<em>请不要怀疑我的英语书面考试能力…考试，我是优秀的</em>)，第一个月我完全没怎么说话交流，就纯闷头写代码交任务，因为质量好效率高得了当月的部门优秀…我特么第一次知道纯粹的代码能力也可以被如此重视，擅长什么就尽力安排你做什么，发挥出你最大的价值，那感觉太美妙了。</p>
<p>接下来我从外企回归到体制内就是另一个故事了。大比例的企业应用相比互联网应用，有太多的死板和陈旧，初衷是BAT一类的互联网公司，后来因缘际会得朋友推荐，加入了招行的掌上生活团队，对互联网的技术、业务和产品的玩法才真正有了完整的认识。</p>
<p>你看，我的从国企到外企再到国企，从企业应用到互联网应用，从程序员到架构师，我在不断拓展自己思想和视野的外延。促使我跳出框框的一个重要因素开始是薪水，后来发现是成长性和反脆弱性让我不断的做出转变。</p>
<p><strong>$ 反脆弱性</strong>：有一本叫做《反脆弱》(也是黑天鹅一书的作者)的书推荐给大家，里面的观点很是值得玩味。比如公务员相比出租车司机就是脆弱的，考虑公务员40岁失业，和司机40岁面对再就业时截然不同的处境。脆弱的反面不是坚韧，而是反脆弱。一个鸡蛋掉到地上，会碎，鸡蛋在这里是脆弱的；一个纸团掉到地上，不会破，纸团在这里只是坚韧的；一个乒乓球掉到地上，不仅不会碎还可以反弹起来，这个乒乓球就是有反脆弱性。<strong>让变化和波动成为促生蜕变的动因</strong>，附上此书的一段简介：</p>
<blockquote>
<p><strong><em>《反脆弱》</em></strong><br>杀不死我的，使我更强大。<br>既然黑天鹅事件无法避免，<br>那就想办法从中获取最大利益。<br>每一件事情都会从波动得到利益或承受损失。<br>脆弱是指因为波动和不确定而承受损失。<br>反脆弱则是让自己避免这些损失，甚至因此获利。</p>
</blockquote>
<p>  <strong>$ 不耻下问</strong>：所谓闻道有先后，在一个新的领域实行模仿学习的时候，模仿对象很可能比你小。这种时候一定要放下心里包袱，不能自卑轻易否定自己，更不能自大不屑于模仿求学。刚入掌上生活团队时，对于互联网应用的技术、组件、开源等了解并不全面，而同期入职的比我小的同事，却玩的贼溜，甚至在意识形态上我都感觉落后一个时代。此人江湖号称万真人，因为当时真有点高山仰止之感，让我想到了武学宗师张三丰，我给起的这个绰号深得大家认同也就很快传开了。最终幸好本人的反脆弱性还算强大，持续恶补、持续模仿学习，不然真差点整自闭了。</p>
<p>总结一下，<strong>我“思”故我在，第二阶段就是破开框框，找到那个“真我”。</strong></p>
<h3 id="“离”开一招一式"><a href="#“离”开一招一式" class="headerlink" title="# “离”开一招一式"></a># <strong>“离”开一招一式</strong></h3><p><img src="https://imgkr.cn-bj.ufileos.com/471e19ed-d9a1-44ce-acd5-c4e0edff823b.png"></p>
<blockquote>
<p>上图是张三丰教张无忌太极拳招式后的一句话：<br>“<em>你忘记所有招式，就可以练成太极拳了</em>。”</p>
</blockquote>
<p>术和道的纷争软文已然烂大街，简单来说，<strong>术谓之技术，道即为道理</strong>。我们在长期的学习过程中，获得了大量“术”级别的能力，悟出的“道”却屈指可数。若我们花费大量的时间在技术的纯熟上，而没有沉淀下来领悟内在的运作机制和底层原理，这样是基本没可能练成太极拳的。</p>
<p>从无我到自我，进化成最终的<strong>忘我</strong>。忘我是一种态度，忘掉给自己带来虚妄成就感的“术”，进入悟“道”的超然境界。雄鹰经受击喙换羽之痛获得重生，即便它早以遨游九天为乐；王阳明格竹龙场悟道创立心学，直逼万物本源，即使之前他早已文武双全；诚然我们无法与圣人相提并论，但仿效其成圣之路，总有可达之处。</p>
<p><img src="https://imgkr.cn-bj.ufileos.com/a6bef935-10b0-4f8f-a9aa-83f9f69140fb.png"></p>
<p><strong>DàYé自述：</strong></p>
<p>本人目前也在各种悟的过程中，混混沌沌间也无法给出具体的指导意见。要升级为高级别人才，勇于放下“固有成就”的包袱，补齐各维短板，潜心修习方可。说起来简单，悟起来真的不容易。</p>
<p>  <strong>$ 以结果为导向</strong>: 这是很多管理者挂在嘴边的一句话，但是执行者却甚少有理解到精髓的。</p>
<p><strong>譬如</strong>：</p>
<p>代码异常处都知道要打印<strong>日志</strong>，除了基本的堆栈信息，业务线索数据也应该打印出来。评审的代码中大家是否经常可见下面示例的第一种写法。道理很简单，结果导向，你打印日志到底为了什么，是为了你单机调试用，还是为了多节点生产排障用？</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">logger.error(<span class="string">&quot;user login failed&quot;</span>, e);</span><br><span class="line">vs</span><br><span class="line">logger.error(<span class="string">&quot;user &quot;</span> + userid + <span class="string">&quot; login failed&quot;</span>, e);</span><br></pre></td></tr></table></figure>

<p>异步消息组件处理<strong>消费失败</strong>时，一般都有重试机制，对于重试理解的透彻程度可以部分反映你“结果导向”这个道的高度。不展开讲解就列几个问题大家自己去思索:</p>
<ul>
<li><p>该消息的消费处理逻辑是幂等的么？这决定是否可以重试</p>
</li>
<li><p>该消息消费失败后，是否有必要重试？有些消息体若必要参数缺失，你重试一万次也不可能成功</p>
</li>
<li><p>该消息消费最终失败，导致的数据不一致怎么处理？有人说在最终失败时再想办法把这个消息持久化存储在某个地方就可以了。</p>
</li>
<li><p>结果导向的问题来了：持久化存储的数据，你会多久去看一次？有主动修复的机制么？如何保证时效性？</p>
</li>
</ul>
<p>  <strong>$ 设计模式</strong>：设计模式是程序员必修的功课，从背诵到实践到领悟到灵活运行到大道至简。我曾经看到过一个不复杂的微服务系统，被设计的七零八落，这一个helper那一个resolver, 左一个decorator右一个visitor中一个factory, 第一眼看到这个系统就有想躲开的冲动。设计者觉得我能把这么多设计模式融合到一起，是多么了不起的一件事情。殊不知，设计模式就是一种方法论，在你抓耳挠腮不知道怎么组合代码的时候，给你一种思路罢了，你却用来装逼。设计模式绝对不是让你堆砌设计，更不是让你增加系统理解和维护的复杂度。我所崇尚设计的第一原则是简单易懂，能把复杂的事情简单化才叫本事，把简单的事情复杂化就是熊孩子。你想，那些伟人对世界领悟的得多么的透彻，才能将复杂的自然规律抽象为如此简单美妙的一个公式？</p>
<p><img src="http://upload-images.jianshu.io/upload_images/285398-3dcf8c454c7b9479?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p>  <strong>$ 管理和领导</strong>：从字面区分就很清楚，“管理”首先是个戴着竹帽子的“官”，“理”顺事情才能推动团队达成目标；“领导”则更多的是带领和指导团队，通过个人专业能力、人格魅力或者影响力来达成，不一定是权力。所以把自己定位好是管理者还是领导者，使用的方法论也不尽相同。我对自己的定位可能更多的是领导者，因为如果摒弃头衔给团队带来的权势压力，我仍能带领好团队，这才是我想要的团队氛围和协作模式。目前这块仍在悟，等沉淀到一定程度了再跟大家掰扯掰扯。</p>
<p><strong>守破离</strong></p>
<p>“守破离”源于禅学，兴于日本剑道，后被引入各类学科和理论工作中。模仿之道不好架空表述，遂以守破离为引直抒胸臆。本人也是从一名普通程序员一步一步的成长为管理者，其中辛酸同行之人应深有戚戚，而模仿不失为一把神锋利器，只是此招需要慎用，万不可走偏。</p>
<p><strong>盼与君共成长</strong></p>
<p><img src="http://upload-images.jianshu.io/upload_images/285398-d67ac126f41a6227?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2019-03-18T08:47:43.000Z" title="2019-03-18T08:47:43.000Z">2019-03-18</time></span><span class="level-item">Updated&nbsp;<time dateTime="2020-08-05T08:22:32.286Z" title="2020-08-05T08:22:32.286Z">2020-08-05</time></span><span class="level-item">an hour read (About 10773 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/03/18/floatpoint/">格物致知-Floating Point</a></h1><div class="content"><p><img src="http://ww1.sinaimg.cn/large/40db64dbgy1ghg0crufigj20u00jidhw.jpg">    </p>
<p>作者 | 曲健<br>类型 | 译文<br>全文 | 14791字, 案例术语代码较多，半小时读不完</p>
<p>之前陆陆续续写了很多架构、设计、思想、组织方向的文字，突然感觉到有些厌烦。因为笔者不断看到有些程序员“高谈阔论、指点江山”之余，各种定律、原则、思想似乎都能信手拈来侃侃而谈，辩论的场合就更喜欢扯这些大旗来佐证自己的”金身”。殊不知，这些人的底座脆弱到不堪一击，那些“拿来”的东西都是空中楼阁罢了。优秀程序员区别于其他的一项重要指标，就是基础知识的底蕴足够强大。靠看靠学靠实战靠日积月累，绝无捷径。</p>
<p>而今天要讲的”浮点运算”绝对是不少程序员知其表不知其内的一个知识点，甚至在某些人的编程世界里已经慢慢沦为鸡肋。比如在涉及精度必须准确的货币类财务运算中，要不更换单位*100转为Integer，要不使用BigDecimal，稍微有点”经验”的人这里都不会敢用Float/Double。</p>
<p><em>这里的“经验”指的是那种有一定的编程经验，但是理论知识结构有死角，在FP这个场景就是知道FP有精度丢失问题，但不知道为什么的那一类。</em></p>
<p>有人会问既然精度不准那浮点数还有什么价值, 直接用精度不会丢失的Integer或者BigDecimal就好了呗？这其实就是在<strong>数据精度**</strong>、数值范围、**<strong>运算速度</strong>之间的一个权衡，浮点数可表示的数值范围远大于整型，浮点数的运算速度也快于BigDecimal（现代的CPU都会集成FPU浮点运算单元）。在很多软件系统的实现里不用浮点数确实没问题，但是在一些游戏引擎、工程处理甚至天体物理方面的超大型数据运算，为了快速得到结果也防止数据范围溢出，只要误差在可接受范围内，浮点数当然可以是首选。</p>
<p><em>Lua 在 5.3 之前没有整型只有浮点数，你还敢做数值计算么？</em></p>
<p>与浮点数相对的就是定点数，Java里的整型, BigDecimal，Mysql的Numeric/Decimal类型本质就是定点数实现，用他们不会有精度问题(当然前提是别越界)。</p>
<p>*<a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/fixed-point-types.html">https://dev.mysql.com/doc/refman/8.0/en/fixed-point-types.html</a> *</p>
<p><em>(知识点：十进制的定点数。</em></p>
<p><em>可研究下BigDecimal源码一目了然)</em></p>
<p>到现在我没解释过任何东西，有些看官可能越看越糊涂，没错，我还要再码一些代码，让大家更糊涂一些。文末还有大量的问答和练习题，可以自己去做，一次性把浮点基础全部夯实了。</p>
<p>下方截图的代码都在这里了:</p>
<p><em><a target="_blank" rel="noopener" href="https://github.com/NicholasQu/snippets/blob/master/src/main/java/cc/xiaoquer/data/types/FloatingPointDemo.java">https://github.com/NicholasQu/snippets/blob/master/src/main/java/cc/xiaoquer/data/types/FloatingPointDemo.java</a></em></p>
<p><strong>FP知识点1</strong></p>
<p>无穷的二进制表示及转换</p>
<p>浮点数除以0抛出什么异常？</p>
<p><img src="https://imgkr.cn-bj.ufileos.com/b7708c81-831e-4403-80b6-5ef4e98936e2.png"></p>
<p><strong>FP知识点2</strong></p>
<p>浮点运算的精度丢失</p>
<p>十进制到二进制的转换发生了什么？</p>
<p><img src="https://imgkr.cn-bj.ufileos.com/cfbc8882-56b0-45df-a8a1-0abc790b8d9b.png"></p>
<p><strong>FP知识点3</strong></p>
<p>非规格化浮点数的处理性能损耗</p>
<p>什么是非规格化浮点数? 为什么它的运算会慢?</p>
<p><img src="https://imgkr.cn-bj.ufileos.com/866737f8-3fe0-4f74-810a-f4f51e6ef6a5.png"></p>
<p><strong>FP知识点4</strong></p>
<p>不同精度的运算速度对比</p>
<p>小数的运算，为什么浮点数相比定点数快？</p>
<p><img src="https://imgkr.cn-bj.ufileos.com/216e76d4-044a-4832-914b-8d2ee1cd2a23.png"></p>
<p><strong>FP知识点5</strong></p>
<p>浮点的取值范围 VS 可表示的个数</p>
<p>取值范围好理解，大家看一下Float.MAX_VALUE(3.4*10^38) 和 MIN_VALUE 即可。那么32 bits的Float可以表示多少个浮点数呢? (2^32次方而已)，再次表达了离散不连续的数字世界，也可看出有限的浮点数在其近乎无限的取值范围内是有多么的稀疏。</p>
<p><strong>翻译正文</strong></p>
<p><strong>现在开始</strong></p>
<p>传统计算机科学与科学计算的一个显著区别就是离散数学(0和1)取代了连续数学(微积分为代表)的使用。将整数转为实数绝对不只是一种外表的变化。数字计算机无法精确表达每一个实数，所以当我们设计实数的计算机算法时不得不面临新的挑战。现在,除了分析运行时间和内存占用,我们必须更加关注最终解决方案的“正确性”。事实上这个极具挑战性的问题正在进一步恶化，因为为了适应离散结构的计算机，很多重要的科学算法不得不妥协做出很多额外的近似。正如我们发现一些离散算法自身实在是太慢了(算法时间复杂度：多项式 VS 指数型)，我们将会看到一些浮点算法太不准确(稳定 VS 不稳定)。有时可以设计一个更聪明的算法来纠正这个问题。离散问题有时候时常需要面临的困难正是来自于它本身的痼疾(比如NP完全问题/NPC问题)。浮点数问题的困难同样来自于本身(病态性),例如,准确的长期天气预报。要成为一位有效的计算机科学家,我们必须有能力归类这些算法和相应的问题。</p>
<blockquote>
<p><strong><em>译者注</em></strong><br><em>『有效的科学家』听起来很拗口，但实在没找到更合适的词汇来对应。</em><br><em>实际上真的有本书就是叫 The Effective Scientist：</em><br><em><a target="_blank" rel="noopener" href="https://www.cambridge.org/core/books/effective-scientist/EC65B924792BB2C4DAAADAF21FF0AC0F#fndtn-information">https://www.cambridge.org/core/books/effective-scientist/EC65B924792BB2C4DAAADAF21FF0AC0F#fndtn-information</a></em></p>
</blockquote>
<p><strong>浮点数</strong></p>
<p>如果数字计算机没有浮点运算能力，20世纪的很多伟大成就是不可能实现的。然而，大多数程序员都没有很好的理解这个源头上经常容易引起混乱的课题。在1998年2月一个名为”Java数值计算扩展”的主题演讲中，James Gosling宣称“95%的人对浮点数一无所知”。但其实浮点背后主要的思想并不是那么难, 接下来我们将一一揭秘那些困扰着大多数新手的疑惑。</p>
<p><strong>IEEE 754二进制浮点表示法</strong>。首先，我们将描述浮点数是如何表示的。Java使用IEEE 754二进制浮点标准的一个子集来表示浮点数并定义算术运算的结果。几乎所有的现代计算机都符合这个标准。一个浮点数用32位表示，每个可能的位组合代表一个实数。这意味着即使有无穷多个实数(甚至在0和1之间)，最多也能精确地表示232个可能的实数。这涵盖了从±1.40129846432481707±3.40282346638528860 e+38 e-45。具有6或7位有效的小数，包括正无穷、负无穷和NaN(非数字)。这个数字包含一个符号位s(表示正负)，8位表示指数e, 23位表示尾数m。</p>
<p><strong>IEEE 754</strong></p>
<p><strong>IEEE 754二进制浮点数表示/标准</strong>(后文统一用IEEE代指)。首先, 我们将描述一下浮点数应该如何表示。Java使用<strong>IEEE</strong>标准的一个子集来表示浮点数和定义算术运算的结果。几乎所有的现代电脑都符合这个标准。浮点数使用32位表示, 比特位的每一种可能的组合都代表一个实数。这意味着可以被精确表达最多2^32种实数, 但其实实数是无限多的(甚至在0和1之间)。</p>
<p>IEEE标准使用一种类似于科学记数法的内部表示, 只是用的是二进制不是十进制罢了。它可以覆盖从±1.40129846432481707e-45 到 ±3.40282346638528860e+38的实数区间，可确保6到7位的有效小数位。</p>
<blockquote>
<p><strong><em>译者注</em></strong><br><em>这里的底数e并不是那个自然常数e，它其实就是10，这也叫E-表示法。</em><br><em>这种方法更多的是为了区分前后两部分数字，方便书写并理解直观，不然你换成10试试，是不是都拧巴到一块了…</em><br><em><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Scientific_notation#E_notation">https://en.wikipedia.org/wiki/Scientific_notation#E_notation</a></em></p>
</blockquote>
<p><strong><em>数字的精度</em></strong>是一般指的就是所有数字的个数，小数位数是小数点右边的数字个数。例如123.45 的精度是 5，小数位数是2。*</p>
<p><em>浮点的精度由尾数的位数决定，单精度浮点数尾数是23位，取值范围为0<del>2^23，而2^23=8388608≈10^6.92369，所以float的精度为6</del>7位小数，6位保证是绝对精确，7位一般也是正确的，8位再往后就完全不靠谱了。</em></p>
<p>这其中也包括三个特殊值：正无穷, 负无穷, NaN(Not-a-Number 不是一个数字)。它由1位符号位(可理解为正负), 8位的指数e,和23位的尾数m组成。 十进制表达公式如下：</p>
<p><img src="https://imgkr.cn-bj.ufileos.com/0345a3b7-479f-4655-acb1-e51cd11c1524.png"></p>
<p><strong><em>感谢提供的在线Latex功能</em></strong><a target="_blank" rel="noopener" href="https://www.codecogs.com/latex/eqneditor.php">https://www.codecogs.com/latex/eqneditor.php</a>*</p>
<p><img src="https://imgkr.cn-bj.ufileos.com/e90d271a-bcdd-4f73-ac4c-4b4a7fd7189d.png"></p>
<p>- <strong>符号位 s</strong>(31位). 这一位最显著的符号位表示数值的正负，1为负数，0为正数。 </p>
<p>- <strong>指数位 e</strong> (30 - 23位). 接下来的8位就是指数位啦*(译者注:无符号整数0~255)*。按照约定指数需做个127的偏差。也就是，要表示二进制指数5，偏差127加上5等于132(<em>译者注：这个值才是e</em>)，132的二进制编码是10000100。要表示二进制指数-5，偏差127加上-5等于122，对应二进制编码是01111010。我们知道通常负数采用的是<strong>补码表示法</strong>，而这个约定(127偏差)可视作<strong>补码</strong>的一种替代方案。</p>
<blockquote>
<p><strong><em>译者注</em></strong><br><em>建议大家再复习一下三个概念：原码、反码(1’s / ones’ complement)、补码(2’s / two’s complement)的知识。要展开讲透的话不重开一篇基本不现实，这里只提几个要点先：</em> </p>
</blockquote>
<p><em>1. 数值是有正负的，也就意味着有符号位的存在。而计算机为了简化加减乘除运算的复杂度，需要想办法让符号位也参与运算，让减法转变为最基本的加法运算。</em></p>
<p><em>2. 反码可以视作补码的一个中间步骤，因为补码就等于反码+1。现而今大家都知道大部分主流计算机都是使用补码方式来存储数字的，而80年代之前的计算机其实用的是反码。另外，原本的英文名称比中文翻译似乎更能体现两者关系。(Tips: 反码的英文维基上是ones’，很多其他英文文献用的one’s，从Redirected from这个表述来看，两者应该是一致的，但为何选了ones’不是one’s呢？尝试各种搜索，原因仍不可得)</em></p>
<p><em><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Ones%27_complement">https://en.wikipedia.org/wiki/Ones%27_complement</a></em><br><em><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Two%27s_complement">https://en.wikipedia.org/wiki/Two%27s_complement</a></em><br><img src="https://imgkr.cn-bj.ufileos.com/f6fd581b-6bbb-4dcf-975d-d92e79030398.png"></p>
<p><em>3. 补码运算有个关键的“模”的概念，尝试以钟表的指针转动就是不断做加法来类比，钟表的模就是12，超过12小时就从0重新开始计数。补码的进位(Carry Bit)一旦溢出就会被丢弃。</em> </p>
<p><em>4. 对于8 bits表示的数字来说，补码求补运算使用的偏移量是 2^8=256，而浮点数指数位e的偏移量使用了中间数127, 也就是IEEE在这里没有直接采用补码方式。这里也潜藏着更加深刻的数学意义，用于区分浮点和整型还是区分浮点和定点，大家可以看下方wiki理解.</em></p>
<p><em><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Exponent_bias">https://en.wikipedia.org/wiki/Exponent_bias</a></em></p>
<p>- <strong>尾数 m</strong>(22 - 0位). 剩下的23位表示尾数，规格化为0.5到1之间。这种规格化依靠相应地调整二进制指数总是可能实现的。二进制的小数与十进制小数原理并没有什么不同:</p>
<blockquote>
<p><strong><em>译者注</em></strong><br><em>后文为了方便直观理解，都会用后缀B和D区别表示二进制和十进制数。</em></p>
</blockquote>
<p><strong>0.1101B</strong>=<strong>1/2 + 1/4 + 1/16 = 13/16 = 0.8125D</strong><br>当然也不是所有的十进制数都能被转换为二进制小数的，比如<br><strong>1/10 = 1/16 + 1/32 + 1/256 + 1/512 + 1/4096 + 1/8192 + …</strong> <br>在这种情况下，十进制的0.1用最接近的二进制近似值来表示：即23位的二进制小数<strong>0.000110011001100110011…</strong><br>进一步优化，既然尾数永远是以1开头的，就没有必要显性的存储这个隐藏位了。<br>举例说明：十进制小数<strong>0.085</strong>会被存储为二进制浮点数<br><strong>00111101101011100001010001111011</strong><br><img src="https://imgkr.cn-bj.ufileos.com/60feff0f-fb5d-44fb-bd4a-30cb616577f0.png"></p>
<p>套用前文十进制的表达公式：<br><img src="https://imgkr.cn-bj.ufileos.com/8c891db7-7f1e-4a89-a99d-fee4a84aba97.png"></p>
<blockquote>
<p><strong><em>译者注</em></strong><br><em>乍看这个公式并不是完全套用上文的那个，这里简单解释下标红的两部分：</em><br><em>1. m需要+1，这在尾数部分说明过，因为尾数默认都是1.XXXX的小数，为了节省一位存储就把1省略了，转换的时候要记得加回来；</em><br><em>2. m实际上就是0.XXXX的小数，而直接转十进制是按照23位的整型来算的，所以这个整型需要再除以2^23用来移小数点位；</em><br><em>译者再提供一种对m计算方式可能理解起来更直观一些：</em><br><em>二进制的m实际应该是 <strong>“1”+”.”+”上图22-0位”</strong></em><br><strong><em>1.01011100001010001111011</em></strong><br><img src="http://upload-images.jianshu.io/upload_images/285398-0805029fa0347c79?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"><br>红线标注部分是完全的二进制运算，而后2的负数次方相加和正文的整型除以2^23本质相同就是做个变换罢了。</p>
</blockquote>
<p>双精度浮点double与单精度float相似，只不过double内部使用64位展示，其中11位的指数，52位的尾数，指数偏移量不再是127而是1023。double覆盖范围从<strong>±4.94065645841246544e-324</strong> 到 <strong>±1.79769313486231570e+308</strong>，可保证**14或15位(注)**的有效精度。</p>
<blockquote>
<p><strong><em>译者注</em></strong><br><em>按照前文单精度浮点的精度推算方法2^52=10^15.65356，这里应该是15-16位。大家理解如何推论就OK, 不需要死记硬背。</em></p>
</blockquote>
<p><strong>精确度Precision vs 准确度Accuracy</strong></p>
<p>精确度=规格的紧密性，准确度=正确性*(<strong>译者注：</strong>完全是只可意会的概念解释…请往下直接看例子会清晰的多)，*千万不要把精确度与准确度混为一谈。指定<strong>精度</strong>为10的数字<strong>3.1</strong>33333333是对数学常量 <strong>π **的估算值，但它只有两位数字3.1是</strong>准确<strong>的。正如</strong>约翰•冯•诺依曼<strong>曾经说过的:“</strong>当你甚至不知道自己在说什么时，精确到什么程度都没有意义。**” Java通常会以16或17位精度来打印浮点数，但不要盲目认为这么多位数字都是准确的！计算器通常显示10位数字，但计算精度为13位。哈勃太空望远镜的镜片以超高的精确度打磨的，但使用了错误的规格。因此，既然它不能像预期那样拍摄高分辨率的图像，那么它就是一个巨大的失败。尽管如此，它的精度使宇航员能够安装一个校正透镜来抵消误差。货币计算通常是根据给定的精度来定义的，例如，欧元汇率的报价必须是6位数。</p>
<blockquote>
<p><strong><em>译者注</em></strong><br><em>哈勃空间望远镜镜片的精度问题造成巨大事故的著名案例</em><br><em><a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%93%88%E5%8B%83%E7%A9%BA%E9%97%B4%E6%9C%9B%E8%BF%9C%E9%95%9C">https://zh.wikipedia.org/wiki/哈勃空间望远镜</a></em><br><strong><em>Hubble’s Mirror Flaw</em></strong><br><em><a target="_blank" rel="noopener" href="https://www.nasa.gov/content/hubbles-mirror-flaw">https://www.nasa.gov/content/hubbles-mirror-flaw</a></em></p>
</blockquote>
<p><strong>舍入误差</strong></p>
<p>对于不熟悉浮点数的人来说，浮点数编程是一个令人困惑和危机四伏的过程。整数运算是精确的，除非运算结果不在整数的范围内(溢出)。相比之下,浮点运算并不精确,因为一些实数的表示需要无限的数字,例如数学常量e、π和1/3。然而，大多数初级Java程序员惊讶地发现，在标准二进制浮点数中，1/10也不是完全可以表示的。这些舍入误差会以非直观的方式在计算过程中不断传播。</p>
<p><strong>小数的四舍五入</strong></p>
<p>例如，下面来自于<strong>FloatingPoint.java</strong></p>
<p><em>(<a target="_blank" rel="noopener" href="https://introcs.cs.princeton.edu/java/91float/FloatingPoint.java.html">https://introcs.cs.princeton.edu/java/91float/FloatingPoint.java.html</a></em>)</p>
<p>的代码片段，第一个打印为false，而第二个打印true。</p>
<p><img src="https://imgkr.cn-bj.ufileos.com/06e3e3f2-fc38-4f2b-ad8a-fd8a63098397.png"></p>
<p><strong>牛顿迭代法</strong></p>
<p>来个更实际的例子，下面的代码采用<strong>牛顿迭代法</strong>来实现计算c的平方根。数学上, 在 t*t - c &gt; 0 的前提下基于上一轮数据不断迭代可最终收敛于√c。然而, 浮点数只有有限的几个比特的准确度，所以最终我们可能期望<strong>t的平方</strong>等于c，直至达到机器的精度。</p>
<p><img src="https://imgkr.cn-bj.ufileos.com/6cbdaf50-888e-4546-8b13-eb24085bee44.png"></p>
<p>对于某些值的c，该方法”确实”是有效的。</p>
<p><img src="https://imgkr.cn-bj.ufileos.com/f2ae1c4c-b149-4fab-af14-4004f724f3d3.png"></p>
<p>这可能会让我们相信我们的代码实现是正确的。但当我们试着计算20的平方根时，一个令人惊讶的事情发生了。我们的程序将陷入无限死循环! 此类错误即称为<strong>舍入错误</strong>。<strong>机器准确度</strong>可以这样理解：若存在一个最小的数ε可以使(1.0 +ε! = 1.0)，那么数ε就是机器准度。将容错误差ε改为很小的正数会有所帮助,但没从根源上解决这个问题。</p>
<p>我们必须满足于近似平方根。一个可靠的计算方法是选择某个容错误差ε,比如1E-15,然后再试着找到一个值t可以使 |t - c/t| &lt;εt。我们用相对误差代替绝对误差，否则程序可能进入无限死循环。</p>
<p><img src="https://imgkr.cn-bj.ufileos.com/1280b141-87ae-46a5-830f-2876778cf649.png"></p>
<p><strong>调和级数求和</strong></p>
<blockquote>
<p><strong><em>译者注</em></strong><br><em>这部分翻的我想死，太难了…所以我决定放弃这段！</em><br><em>H(n)表示调和级数，是发散序列，极限值是无穷，也就是不存在。但是调和级数的**拉马努金求和(Ramanujan summation)**是存在的。 这块内容超纲了…</em></p>
</blockquote>
<p>(总结一下) 每次执行算术运算, 你至少会引入一个额外的误差ε。Kernighan和Plauger说:“浮点数就像一堆沙子; 每次你移动, 就会失去一些沙子, 捡起一些泥土”。如果错误是随机发生的, 那我们可以预见对N开平方根的误差会不断累加。然而, 如果我们在设计数值算法的时候不保持警惕, 这些错误将以非常不好和不直观的方式传播, 导致错误累积甚至更糟。</p>
<p><strong>财务计算</strong></p>
<p>我们举例来说明可能破坏财务计算的那些舍入误差。涉及美元和美分的财务计算以10为基数。下面的示例演示了使用二进制浮点系统(如IEEE 754)的一些风险。</p>
<p><strong>销售税</strong></p>
<p>源码<strong>Financial.java</strong>说明了这种危险</p>
<p><em>(<a target="_blank" rel="noopener" href="https://introcs.cs.princeton.edu/java/91float/Financial.java.html">https://introcs.cs.princeton.edu/java/91float/Financial.java.html</a>)</em></p>
<p>计算一通50美分的电话需要征收9%的销售税(或0.70美元的通话征收5%的销售税)。使用IEEE 754标准, 套入公式 *<em>1.09 * 50 = xxx*</em>。这个结果四舍五入到0.xx而实际上的确切答案却是0.yy, 因为按规定电话公司必须使用银行家舍入法(Banker’s rounding)。</p>
<blockquote>
<p><strong><em>译者注</em></strong><br><strong><em>Banker’s rounding银行家舍入法</em></strong><br><em>不同于我们传统意义的那种四舍五入，银行家舍入法又有个直白叫法<strong>四舍六入五奇偶</strong>。具体规则有个口诀：<strong>四舍六入五考虑，五后非零就进一，五后为零看奇偶，五前为偶应舍去，五前为奇要进一</strong>。</em><br><em>下面的例子感受一下：</em><br>round(0.5) = 0<br>round(1.5) = 2<br>round(1.4) = 1<br>round(1.6) = 2<br>round(2.4) = 2<br>round(2.5) = 2<br>round(2.6) = 3</p>
<p><strong>Round up 向上舍入 vs Round down 向下舍入</strong><br>这两者相对比较好理解，大家可以参见一下Excel里的这两个公式，算法相同。这个翻译我就复用Excel里的说法的，免得引起无谓的理解门槛，其实<strong>向上应该叫直接进位，向下就是直接舍位</strong>。<br>roundup(0.14, 1) = 0.2<br>roundup(0.15, 1) = 0.2<br>roundup(0.16, 1) = 0.2<br>rounddown(0.14, 1) = 0.1<br>rounddown(0.15, 1) = 0.1<br>rounddown(0.16, 1) = 0.1</p>
</blockquote>
<p>相比之下，对一个75美分的电话征收14%的税<strong>向上舍入</strong>到得到x.xx，尽管按规定电话公司必须使用<strong>银行家舍入法</strong>将其<strong>向下**</strong>舍入<strong>。这种</strong>便士(美分)<strong>级别的差异可能看起来不太明显，您也可能指望这些影响最终会相互抵消。然而，放大到数亿交易量级，这种香肠切片可能导致数百万美元。参考电影:《超人3》(1983年)、《黑客》(1995年)和《上班一条虫》(1999年)。在《上班一条虫》里，三个人在银行会计系统里植入一种电脑病毒，会将每笔交易做</strong>向下舍入，*<em>也就是每笔交易里的小数零头部分转移到他们自己的账户中。</em>(日积月累也发财了…)*</p>
<blockquote>
<p><strong><em>译者注</em></strong><br><em>Salami Slicing 萨拉米香肠切片</em><br>*<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Salami_slicing">https://en.wikipedia.org/wiki/Salami_slicing</a> *<br>指的是一系列许多小动作，通常由秘密手段进行，随着不断的累积整体会产生更大的动作或结果，这些动作或结果通常会长期实施或非法实施。该术语通常用于贬义。尽管萨拉米香肠切片经常被用来进行非法活动，但它只是一种通过以较小的增量累积它来获得优势的策略，因此它也可以以合法的方式使用。</p>
<p>这个定义有些晕，上文在《上班一条虫》中提到的极少量资金的反复盗窃，不断累积达到巨大危害的就是一个典型案例。在信息安全、政治、学术界都有相应的场景案例对应。</p>
</blockquote>
<p>出于这个原因，一些程序员认为应该始终使用整型来存储金融值，而不是浮点类型。下一个示例将告诉你使用int类型存储财务值的风险。</p>
<p><strong>复利</strong></p>
<p>此示例介绍舍入误差的危险。假设你以5％的利息投资1000美元，每日复利。一年后你会得到多少钱？如果银行正确计算了价值，那么你应该得到 $1051.27，因为确切的公式是</p>
<p><img src="https://imgkr.cn-bj.ufileos.com/60bbbd95-626d-46a1-94ad-706fc54db0cd.png"></p>
<p>此公式运算后的实际结果是1051.2674964674473…，假设银行将您的余额存储为整数（以美分为度量）。在每天结束时，银行会计算你的余额乘以1.05，并将结果四舍五入到最接近的美分。如此你最终只会得到1051.10美元，并被骗了17美分。再假设银行在每天结束时<strong>向下舍入</strong>到最近的美分，那么你将只有1049.40美元，被骗走1.87美元。不存储美分小数位的微小错误会累积并最终明显放大，甚至是成为虚假的。</p>
<p><strong>CompoundInterest.java源码</strong></p>
<p>(<em><a target="_blank" rel="noopener" href="https://introcs.cs.princeton.edu/java/91float/Financial.java.html">https://introcs.cs.princeton.edu/java/91float/Financial.java.html</a></em>)</p>
<p>你应该使用的是Java里的BigDecimal库，而不是整数或浮点。该库有两个主要优点。首先，它可以准确地表示十进制小数，这可以防止使用二进制浮点的销售税问题。其次，它可以以任意精度存储数字，这使程序员能够控制舍入误差对计算的影响程度。</p>
<p><strong>其他错误来源</strong></p>
<p>除了使用浮点算法时固有的<strong>舍入误差</strong>之外，在科学应用中还经常出现很多不同类型的<strong>近似误差</strong>问题。</p>
<p><strong>测量误差</strong></p>
<p>在日常的计算过程中使用的原始数据本身就是不准确的。这种情况经常源于<strong>实际</strong>（不准确或不精确的测量仪器）和<strong>理论</strong>（海森堡测不准原理）的考虑。此种场景下，我们更关注的是模型和解决方案，而它们的结论对原始数据并不是非常敏感。</p>
<p><strong>离散误差</strong></p>
<p>另一个不精确的来源来自于离散连续系统，例如，通过截断其泰勒展开以逼近超越函数，使用矩形的有限和近似积分，找到微分方程的近似解的有限差分方法，或基于格估计连续函数。</p>
<p>即使使用再精确的算法，离散误差依然存在，这通常是不可避免的，但我们可以通过使用更精细的离散化来减少截断误差。当然，这需要以使用更多资源为代价的，无论是内存还是时间。在实际应用中，离散误差往往比舍入误差更重要。</p>
<p><strong>统计误差</strong></p>
<p>没有足够的随机样本。</p>
<p><strong>灾难性消除</strong></p>
<p>当通过加法或减法从大的数计算小的数时，精确度损失很大。 举个例子，如果x和y两个大数字除了最后几位数字不同其他都完全一样，那么如果我们计算z = x-y，z可能只有几位精度(<em>译者注：只有最后几位不同，所以可能无限接近于0</em>)。 如果我们在随后的计算中使用z，那么结果同样只可能有几位精度。</p>
<p><strong>绘制函数曲线</strong></p>
<p>试着绘制函数</p>
<p>f (x) = (1 - cos (x) / (x^2) </p>
<p>x 区间[4<em>10^8, 4</em>10^8]</p>
<p>在这个区域，数学函数f(x)近似为常数0.5。然而在IEEE浮点中，它绝对不是! <strong>代码**</strong>Catastrophic.java**(<em><a target="_blank" rel="noopener" href="https://introcs.cs.princeton.edu/java/91float/Catastrophic.java.html">https://introcs.cs.princeton.edu/java/91float/Catastrophic.java.html</a></em>)向大家展示了一些令人意想不到的结果。</p>
<p><img src="https://imgkr.cn-bj.ufileos.com/da608227-e0a3-4514-881d-3587295380c6.png"></p>
<p><strong>指数函数</strong></p>
<p>现在我们考虑<strong>灾难性消除</strong>的一个更微妙更有害的后果。<strong>代码Exponential.java</strong>(<em><a target="_blank" rel="noopener" href="https://introcs.cs.princeton.edu/java/91float/Exponential.java.htm">https://introcs.cs.princeton.edu/java/91float/Exponential.java.htm</a></em>)使用泰勒级数计算e^x。</p>
<p><strong>e^x = 1 + x + x^2/2! + x^3/3! + x^4/4! + …</strong></p>
<p>这个级数对于所有的x值都是均匀且绝对地收敛，但是对于x的许多负值(如-25)，无论级数中有多少项相加，程序都得不到正确的数字。例如，当x = -25时，该级数以浮点形式收敛到-7.129780403672078E-7(一个负数!)，但真正的答案是1.3887943864964021E-11。要知道为什么，观察总和中的第24项是 <strong>25^24/24!</strong> 第25项是 <strong>-25^25/25!</strong> 原则上它们应该完全抵消掉，而在实践它们会灾难性地相互抵消。这些项(5.7*10^9)的大小比正确答案大20个数量级，消除的任何误差在计算的结果中都会被放大。幸运的是，在这个场景里，问题很容易得到纠正。</p>
<p><strong>数值分析</strong></p>
<p>Lloyd Trefethen (1992) 定义了“数值分析是对连续数学问题算法的研究”。</p>
<p><em>此章节从略…有兴趣的自己读读吧…</em></p>
<p><strong>数值灾难真实案例</strong></p>
<p>我们上面讨论的例子相当简单。然而，这些问题在实际应用中会经常出现。如果处理不当，灾难会迅速降临。</p>
<p><strong>阿丽亚娜5型火箭</strong></p>
<p>阿丽亚娜5型火箭在欧洲航天局发射40秒后爆炸。经过10年和70亿美元的研发方才首航。根据传感器报告由于加速度过大导致程序中负责重新校准惯性制导的部分溢出。64位浮点数被转换为16位有符号整数，而该数字大于32,767，故而转换失败。通用诊断系统捕获了这个意外的溢出，并将调试数据转储到用于引导火箭发动机的内存区域。控制权被切换到备份计算机上，但这台备机存储了一模一样的数据。这导致了系统剧烈运行试图纠正一个不存在的问题，将发动机与他们的安装件分离，最终导致阿里亚娜5型的悲剧(<em><a target="_blank" rel="noopener" href="http://www.around.com/ariane.html">http://www.around.com/ariane.html</a></em>)。</p>
<p><strong>爱国者导弹意外</strong></p>
<p>1991年2月25日，一枚美国爱国者导弹未能追踪并摧毁一枚伊拉克飞毛腿导弹。相反它击中了一个军营，造成26人死亡。后来确定原因是由于用十分之一秒来度量时间导致计算的不准确，因为24位浮点不能准确地表示1/10。修复问题的软件于2月26日抵达达卡兰。(<em><a target="_blank" rel="noopener" href="http://www.ima.umn.edu/~arnold/disasters/patriot.html">http://www.ima.umn.edu/~arnold/disasters/patriot.html</a></em>)</p>
<p><strong>奔腾电路中的英特尔FDIV BUG</strong></p>
<p>英特尔于1994年7月发现，1994年9月由数学教授重新发现并公布。1994年12月英特尔的召回价值3亿美元。 1997年发现了另一个浮点错误。</p>
<p><strong>斯莱普纳钻井平台沉没</strong></p>
<p>1991年8月，价值7亿美元的石油和天然气开采平台发生泄漏，沉入北海。在不准确的有限元近似中，误差低估了剪应力达47%。</p>
<p><strong>温哥华证券交易所</strong></p>
<p>经过22个月的累计四舍五入误差，温哥华证券交易所指数被低估了50%以上。一个显而易见的算法是将所有股票的价格加起来，而“聪明”的分析师认为，在每笔交易后加上一只股票的净变化来重新计算指数会更加有效率。这个计算是使用四位小数和截断(而不是四舍五入)结果到三位来完成的。(<em><a target="_blank" rel="noopener" href="http://www.ualberta.ca/~carolina/CHE374/notes/U01_errors/flerrors/fl_and_errors.html">http://www.ualberta.ca/~carolina/CHE374/notes/U01_errors/flerrors/fl_and_errors.html</a></em>)</p>
<p>教训</p>
<ul>
<li><p>使用double代替float来提高准确性。</p>
</li>
<li><p>仅在您确实需要节省内存时才使用float，并且准确地知晓相关风险。通常它不会使事情变得更快，反而偶尔会使事情变得更慢。</p>
</li>
<li><p>小心计算两个非常相似的值的差异，已经在随后的计算中使用两者的中间结果。</p>
</li>
<li><p>合计两种不同量级的数据时要小心。</p>
</li>
<li><p>多次重复略微不准确的计算时要小心。例如，计算行星随时间的位置变化。</p>
</li>
<li><p>设计稳定的浮点算法非常重要。可能的话尽量使用现成函数库。</p>
</li>
</ul>
<p><strong>问答时间</strong></p>
<p><strong>问：浮点数有什么好的参考物么？</strong></p>
<p>答：这里有两篇关于浮点精度的文章：</p>
<p>David Goldberg的《每个计算机科学家应该知道的浮点运算》<a target="_blank" rel="noopener" href="http://docs.sun.com/source/806-3568/ncg_goldberg.html">http://docs.sun.com/source/806-3568/ncg_goldberg.html</a></p>
<p>以及由图灵奖得主William Kahn共同撰写的《Java的浮点如何做到四处伤害每个人》<a target="_blank" rel="noopener" href="http://www.cs.berkeley.edu/~wkahan/JAVAhurt.pdf">http://www.cs.berkeley.edu/~wkahan/JAVAhurt.pdf</a></p>
<p>这是维基百科关于数值分析的条目<a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/List_of_numerical_analysis_topics">http://en.wikipedia.org/wiki/List_of_numerical_analysis_topics</a></p>
<p><strong>问：如何将IEEE位表示转换为双精度？</strong></p>
<p>答：要在Java中获取双变量x的IEEE 754位表示，请使用Double.doubleToLongBits（x）。根据代码项目，要获得大于x的最小双精度数（假设x是正的和有限的）是Double.longBitsToDouble（Double.doubleToLongBits（x）+ 1）。</p>
<p>这里提供一个不错的二进制与Double转换的在线网站:</p>
<p><em><a target="_blank" rel="noopener" href="http://www.binaryconvert.com/result_double.html">http://www.binaryconvert.com/result_double.html</a></em></p>
<p><img src="https://imgkr.cn-bj.ufileos.com/b757ffec-7708-42f6-8744-40fc232e495e.png"></p>
<p><strong>问：有没有直接的方法来检查整数类型的溢出？</strong></p>
<p>答：不可以。整数类型不以任何方式表示溢出。只有当分母为零时，整数做除法和取余会抛出异常。</p>
<p><strong>问：如果我输入一个太大的数字，例如1E400，会发生什么？</strong></p>
<p>答：Java返回错误消息“浮点数太大”。</p>
<p><img src="https://imgkr.cn-bj.ufileos.com/d94939cd-98a3-4d2f-b076-572b785240b8.png"></p>
<p><strong>问：(上面两个问题换成)浮点类型会怎么样呢？</strong></p>
<p>答：溢出操作会得到正无穷或负无穷，下溢操作会导致正负零，数学上没有明确定义值的操作设置为NaN（不是数字），例如0/0，sqrt(-3)，acos(3.0)，log(-3.0)。</p>
<p><strong>问：如何测试我的变量是否具有NaN值？</strong></p>
<p>答：使用方法Double.isNaN()。请注意，NaN是无序的，因此涉及一个或两个NaN的比较操作&lt;，&gt;和==始终计算为false。任何涉及NaN的不等于的比较都为真，甚至NaN != NaN。</p>
<p><strong>问：-0.0和0.0之间有什么区别？</strong></p>
<p>答：两者都是数字零的表示。0.0==-0.0返回true。然而，1/0.0返回正无穷，而1/-0.0输出负无穷。代码<strong>NegativeZero.java</strong>(<em><a target="_blank" rel="noopener" href="https://introcs.cs.princeton.edu/java/91float/NegativeZero.java.html">https://introcs.cs.princeton.edu/java/91float/NegativeZero.java.html</a></em>)</p>
<p>给出了一个令人惊讶的反例来反驳这个误解：</p>
<p>如果x == y，那么f(x) == f(y)</p>
<p>log 0 = -infinity vs log（-1）= NaN。 log（ε）vs log（-ε）。</p>
<p><strong>问：听说程序员不应该用完全的等式来比较两个实数，而应该总是使用测试的方法，比如</strong></p>
<p><strong>|a-b| &lt; ε 或**</strong>者**</p>
<p>*<em>|a-b| &lt; ε * min(|a|,|b|)*</em></p>
<p><strong>这是正确的吗？</strong></p>
<p>答：这取决于具体情况。通常首选相对误差方法，但如果数字非常接近零那就失效了。绝对值方法可能会产生意想不到的后果，而ε使用什么值也不是非常明确。如果a=+ε/4，b =-ε/ 4，我们应该认为它们是相等的。从传递性角度却不同：如果a和b是“相等的”，b和c也是“相等的”，却无法证明a和c一定是“相等的”。</p>
<p><strong>问：Java如何打印双精度数？</strong></p>
<p>答：通过将所有指数位设置为1。参见<strong>java.lang.Double API</strong></p>
<p>(<em><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/6/docs/api/java/lang/Double.html#toString(double)">https://docs.oracle.com/javase/6/docs/api/java/lang/Double.html#toString(double)</a></em>)。它始终在小数点后打印至少一位数。之后，它根据需要使用尽可能多的数字(但不会很多)来区别最接近的可表示双精度数。</p>
<p><strong>问：使用IEEE 754如何表示零，无穷和NaN？</strong></p>
<p>答：通过将所有指数位设置为1。正无穷=0x7ff0000000000000(所有指数位1，符号位0和所有尾数位0)，负无穷=0xfff0000000000000(所有指数位1，符号位1和所有尾数位0)，NaN=0x7ff8000000000000(所有指数位1，至少设置一个尾数位)。正零=所有位0，负零=所有位0，除了符号位1。</p>
<p><strong>问：使用双精度IEEE标准存储0.1时所表示的确切值是多少。</strong></p>
<p>答：它是0.1000000000000000055511151231257827021181583404541015625。您可以使用**System.out.println(new BigDecimal(0.1));**亲眼看看。</p>
<p><strong>问：什么是StrictMath？</strong></p>
<p>答：Java的Math库保证其计算结果距离准确答案在1到2个ulps内。而StrictMath库可以保证所有计算结果都精确到到1/2个ulp以内。这无非是经典的速度与准确性两者的权衡。</p>
<blockquote>
<p><strong><em>译者注</em></strong><br><em>ULP(<strong>U</strong>nit in the <strong>L</strong>ast <strong>P</strong>lace)</em><br><em>[Java Glossary]**<a target="_blank" rel="noopener" href="http://mindprod.com/jgloss/ulp.html">http://mindprod.com/jgloss/ulp.html</a></em><br><em>[WIKI]**<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E6%9C%80%E5%90%8E%E4%B8%80%E4%BD%8D%E4%B8%8A%E7%9A%84%E5%8D%95%E4%BD%8D%E5%80%BC">https://zh.wikipedia.org/wiki/最后一位上的单位值</a></em></p>
<p>在计算机科学与数值分析中，最后一位上的单位值或称最小精度单位，缩写为ULP，是毗邻的浮点数值之间的距离，也即浮点数在保持指数部分的时候最低有效数字为1所对应的值。ULP用于度量数值计算的精度。例如：圆周率位于毗邻的双精度浮点数3.1415926535897927与3.1415926535897936之间。</p>
<p>1.0和2.0之间有多少个数？在数学中是无限的，但是在计算机中只能是有限的(资源有限)，所以就有了ulp。java.lang.Math.ulp(double d) 返回的double ulp是该浮点值与下一个数值较大浮点值之间的正距离。</p>
<p>对于非NaN x, ulp(-x) == ulp(x)</p>
</blockquote>
<p><strong>问：什么是strictfp修饰符？</strong></p>
<p>答：在声明类或方法时可以使用strictfp修饰符(<em>译者注：strict float point精确浮点数的意思</em>)。这可确保浮点结果在不同JVM之间逐位精确。如果结果溢出，IEEE标准允许处理器使用更高的精度执行中间计算。 strictfp要求将每个中间结果截断为64位双精度格式。由于英特尔奔腾处理器寄存器使用IEEE 754的80位双扩展格式运行，因此这可能是一个重大的性能影响。当然只有极少数人才用得到这种模式。</p>
<p><strong>问：编译器标记javac -ffast-math有什么作用？</strong></p>
<p>答：它放宽了IEEE的一些舍入要求, 使一些浮点计算更快。</p>
<p><strong>问：整数是否总是可以使用IEEE浮点精确表示？</strong></p>
<p>答：是的，除非52位尾数溢出。使用double不能精确表示的最小正整数是2^53 + 1 = 9,007,199,254,740,993。</p>
<p><strong>问：当a和b是浮点数时，（a + b）总是等于（b + a）吗？</strong></p>
<p>答：是的。</p>
<p><strong>问：x/y 总是等于相同的值，与平台无关吗？</strong></p>
<p>答：是的。IEEE要求精确执行操作加减乘除，然后四舍五入到最近的浮点数(如果存在平局，则使用银行家舍入法: 舍入到最接近的偶数)。这以牺牲效率为代价提高了可移植性。</p>
<p><strong>问：(x-y) 总是等于 (x+(-y)) ？</strong></p>
<p>答：是的。由IEEE 754保证。</p>
<p><strong>问：-x总是与0-x相同吗？</strong></p>
<p>答：大部分情况是的，除非x=0则-x=-0，但0-x=0。</p>
<p>**问：这三个等式成立么？ **</p>
<p>*<em>x+x==2</em>x**</p>
<p>*<em>1</em>x==x**</p>
<p>*<em>0.5</em>x==x/2**</p>
<p>答：是的，由IEEE 754保证。</p>
<p>*<em>问：x/1000.0总是等于0.001</em>x吗？**</p>
<p>答：不可以。例如，如果x = 1138，它们是不同的。</p>
<p><strong>问：如果x!=y，则z=1/(x-y) 保证始终不会发生除零的情况。</strong></p>
<p>答：是的，由IEEE 754保证(使用非规范化数字)。</p>
<p><strong>问：(x&gt;=y) 和 !(x&lt;y) 相同意思吗？</strong></p>
<p>答：不相同，在x和y一个或两者为NaN的时候。</p>
<p><strong>问：为什么不使用十进制浮点代替二进制浮点？</strong></p>
<p>答：十进制浮点比二进制浮点提供了几个优点，特别是对于财务计算。尽管如此，它通常需要超出大约20％的存储空间(假设它使用二进制硬件存储)并且代码运行出结果会有些慢。</p>
<p><strong>问：为什么不使用定点表示代替浮点？</strong></p>
<p>答：定点数在小数点后有固定的位数，可以使用整数运算表示。浮点有一个基于精度的滑动窗口，提供了大的动态范围和高精度。固定点数用于一些没有FPU(省钱)的嵌入式硬件设备，例如音频解码或3D图形。适用于数据受限于某个范围的情况。</p>
<p><strong>问：Java中数字的任何好资源？</strong></p>
<p>答：<strong>Java numerics</strong>(<em><a target="_blank" rel="noopener" href="https://math.nist.gov/javanumerics/">https://math.nist.gov/javanumerics/</a></em>)为Java中的数值计算提供了信息的焦点。 <strong>JSci</strong>(<a target="_blank" rel="noopener" href="https://sourceforge.net/projects/jsci/)%EF%BC%9AJava%E4%B8%AD%E7%94%A8%E4%BA%8E%E6%95%B0%E5%80%BC%E8%AE%A1%E7%AE%97%E7%9A%84%E5%85%8D%E8%B4%B9%E7%A7%91%E5%AD%A6API%E3%80%82">https://sourceforge.net/projects/jsci/)：Java中用于数值计算的免费科学API。</a></p>
<p><strong>问：为什么Java的Math.sin和Math.cos函数比它们的C函数慢？</strong></p>
<p>A.在 -pi/4 到 pi/4 的区间内，Java使用硬件级sin和cos函数，因此它们与C的时间大致相同。超出此区间的参数必须通过模数pi转换到此区间内。正如James Gosling在x87平台上的博客一样，硬件sin和cos使用近似值，这使得计算速度很快，但它并达不到IEEE要求的准确度。C实现会对所有参数使用硬件级sin和cos，牺牲速度以换取IEEE的一致性。</p>
<h4 id="尾语"><a href="#尾语" class="headerlink" title="尾语"></a>尾语</h4><p>原文文末还有大量的练习题(可点击原文查看)，有兴趣的同学一定要亲自去做做，对于理解上面大段理论有极大益处，顺带不要忘记篇首的几个知识点哟。当然如果对进制转换和精度舍入等等原理都已吃透，这些问答和练习题都不在话下。</p>
<p><strong>古人云“格物致知”, 就是要我们穷究事物的真理达到知其然知其所以然的通透感，想来必是极好的。</strong></p>
<p><strong><em>- 致“天上飘着”的程序员们</em></strong></p>
<p>(<em>读者若是同时了解大学、朱熹、王阳明各种思想的神人，可能对这个词有不同见解，咱不在这辩论。反正现代汉语词典解释的是：研究事物原理而获得知识。语出《礼记·大学》：欲诚其意者，先致其知，致知在格物</em>)</p>
<p><img src="https://imgkr.cn-bj.ufileos.com/04aaeb31-ddcc-4e67-92f9-89325a7946d2.png"></p>
</div></article></div><nav class="pagination is-centered mt-4" role="navigation" aria-label="pagination"><div class="pagination-previous is-invisible is-hidden-mobile"><a href="/page/0/">Previous</a></div><div class="pagination-next"><a href="/page/2/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link is-current" href="/">1</a></li><li><a class="pagination-link" href="/page/2/">2</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="Your name"></figure><p class="title is-size-4 is-block line-height-inherit">Your name</p><p class="is-size-6 is-block">Your title</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Your location</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">12</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Category</p><a href="/categories"><p class="title">1</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">17</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/ppoffice" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/ppoffice"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile is-mobile" href="https://www.jianshu.com/u/614a0923878c" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">2019之前文章(简书)</span></span><span class="level-right"><span class="level-item tag">www.jianshu.com</span></span></a></li><li><a class="level is-mobile is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/daye/"><span class="level-start"><span class="level-item">daye</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-09-29T09:25:39.000Z">2020-09-29</time></p><p class="title is-6"><a class="link-muted" href="/2020/09/29/data-strategy/">DàYé玩转数据战略Step By Step</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-08-05T03:21:45.000Z">2020-08-05</time></p><p class="title is-6"><a class="link-muted" href="/2020/08/05/mvp-and-pmf/">知道MVP, 不知道PMF</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-07-20T14:21:51.000Z">2020-07-20</time></p><p class="title is-6"><a class="link-muted" href="/2020/07/20/fintech-thinking-1/">金融科技的碎片化思考(上)</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-05-08T07:14:05.000Z">2020-05-08</time></p><p class="title is-6"><a class="link-muted" href="/2020/05/08/execuse-for-programmer-md/">给程序员的错误找个台阶</a></p><p class="is-uppercase"></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-04-29T08:52:44.000Z">2020-04-29</time></p><p class="title is-6"><a class="link-muted" href="/2020/04/29/power-of-archtect/">我也曾对架构师的力量一无所知</a></p><p class="is-uppercase"></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/09/"><span class="level-start"><span class="level-item">September 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/08/"><span class="level-start"><span class="level-item">August 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/07/"><span class="level-start"><span class="level-item">July 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/05/"><span class="level-start"><span class="level-item">May 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/04/"><span class="level-start"><span class="level-item">April 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/12/"><span class="level-start"><span class="level-item">December 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/09/"><span class="level-start"><span class="level-item">September 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/05/"><span class="level-start"><span class="level-item">May 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/03/"><span class="level-start"><span class="level-item">March 2019</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/FinTech/"><span class="tag">FinTech</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/architect/"><span class="tag">architect</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/csa-series/"><span class="tag">csa series</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/data/"><span class="tag">data</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/daye/"><span class="tag">daye</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/dropdown/"><span class="tag">dropdown</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/floating-point/"><span class="tag">floating point</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jira/"><span class="tag">jira</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/letter/"><span class="tag">letter</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/orientdb/"><span class="tag">orientdb</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/product/"><span class="tag">product</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/rules/"><span class="tag">rules</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/select-list/"><span class="tag">select list</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BA%A7%E5%93%81/"><span class="tag">产品</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%90%8D%E4%BA%BA%E8%B6%A3%E4%BA%8B/"><span class="tag">名人趣事</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%9E%B6%E6%9E%84%E5%B8%88/"><span class="tag">架构师</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%87%91%E8%9E%8D%E7%A7%91%E6%8A%80/"><span class="tag">金融科技</span><span class="tag is-grey-lightest">1</span></a></div></div></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button is-primary" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget"><div class="card-content"><div class="notification is-danger">You need to set <code>client_id</code> and <code>slot_id</code> to show this AD unit. Please set it in <code>_config.yml</code>.</div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="Hexo" height="28"></a><p class="size-small"><span>&copy; 2020 John Doe</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="奥琪科技" href="https://ooqi.cn"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="米么科技" href="https://www.mi-me.cn"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="GitHub" href="https://github.com/NicholasQu"><i class="fab fa-github"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" async></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>